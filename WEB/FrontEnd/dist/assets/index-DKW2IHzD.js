import{a as w}from"./utils-t--hEgTQ.js";import{r as M,D as Ce,J as oe,K as d,L as e,M as r,w as $e,h as Fe,d as Ae,N as te,O as Q,T as Be,P as C,Q as ue,c as K,R as a,y as L,t as h,k as m,u as Pe,S as ze,E as qe,U as q,F as I,V as U,B as E,W as k,X as je,Y as j,A as le,Z as V,_ as b,g as ge,o as We,G as be,v as ke,$ as Ke,a0 as Ge,a1 as Ze}from"./vue-vendor-BGfgb9QS.js";import{s as Y,a as _e,c as fe,b as Ye}from"./ui-vendor-BAZWfler.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const v of l.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();const Qe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,ZYRO_API_ORIGIN:"auto",ZYRO_BACKEND_PORT:"8085",ZYRO_DEPLOY_API_ORIGIN:"https://zyroo.cn/backend",ZYRO_DEPLOY_ENV:"prod",ZYRO_ENV:"dev"},Je=o=>o.endsWith("/")?o:`${o}/`,Xe=o=>o.endsWith("/")?o.slice(0,-1):o,et=["ZYRO_ENV","ZYRO_BACKEND_PORT","ZYRO_API_ORIGIN"],ie=et.reduce((o,t)=>{const s=Qe[t];if(!s||!s.toString().trim())throw new Error(`[config] ç¯å¢ƒå˜é‡ ${t} æœªè®¾ç½®ï¼Œæ— æ³•ç¡®å®šåç«¯åœ°å€`);return o[t]=s.toString().trim(),o},{}),tt="auto",st=()=>{if(ie.ZYRO_API_ORIGIN.toLowerCase()===tt){if(typeof window>"u")throw new Error("[config] ZYRO_API_ORIGIN=auto ä»…åœ¨æµè§ˆå™¨ç¯å¢ƒå¯ç”¨");const{protocol:t,hostname:s}=window.location,i=t==="https:"?"https":"http",n=ie.ZYRO_BACKEND_PORT?`:${ie.ZYRO_BACKEND_PORT}`:"";return`${i}://${s}${n}`}return Xe(ie.ZYRO_API_ORIGIN)},ot=()=>Je(st());function me(){return ot()}function nt(o=""){const t=me();if(!o||o==="/")return t;const s=o.startsWith("/")?o.slice(1):o;return`${t}${s}`}w.defaults.baseURL=me();const it=()=>ie.ZYRO_ENV;function W(o,t,s=!1){if(!t)return ve(o,s),!1;try{const n=lt(t).exp*1e3;if(Date.now()>n)return ve(o,s),!1}catch(i){return console.error("Token è§£ç å¤±è´¥ï¼š",i),ve(o,s),!1}return!0}function lt(o){const s=o.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(s).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}function ve(o,t){const s=t?"Admin_Login":"Login";o.push({name:s})}const ee=M([]),at={name:"GlobalMessage",setup(){return{messages:ee}},render(){return oe("div",{class:"global-message-container"},this.messages.map((o,t)=>oe("div",{key:o.id,class:["global-message",o.type],style:{top:`${t*70+20}px`}},[oe("div",{class:"global-message-content"},[oe("div",{class:"global-message-icon"},o.type==="success"?"âœ“":o.type==="error"?"âœ•":o.type==="warning"?"âš ":"â„¹"),oe("span",{class:"global-message-text"},o.content),oe("button",{class:"global-message-close",onClick:()=>this.closeMessage(o.id)},"Ã—")])])))},methods:{closeMessage(o){const t=ee.value.findIndex(s=>s.id===o);t!==-1&&ee.value.splice(t,1)}}};class rt{constructor(){this.nextId=0}show(t,s="info",i=3e3){const n=this.nextId++,l={id:n,content:t,type:s,duration:i};return ee.value.push(l),i>0&&setTimeout(()=>{this.close(n)},i),n}close(t){const s=ee.value.findIndex(i=>i.id===t);s!==-1&&ee.value.splice(s,1)}closeAll(){ee.value=[]}success(t,s=3e3){return this.show(t,"success",s)}error(t,s=3e3){return this.show(t,"error",s)}warning(t,s=3e3){return this.show(t,"warning",s)}info(t,s=3e3){return this.show(t,"info",s)}}const ae=new rt;function dt(o){o.config.globalProperties.$message=ae;const t=document.createElement("div");t.id="global-message-container",document.body.appendChild(t),Ce(at).mount("#global-message-container")}const Ie=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,Le=/^(1{6,}|2{6,}|3{6,}|4{6,}|a{6,}|b{6,}|c{6,}|d{6,}|!{6,}|@{6,}|#{6,}|\${6,})$/,ct=/^\d{4}$/;function re(o,t=null){if(!Ie.test(o.value)){const s="è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€";return t?t(s):ae.warning(s),!1}return!0}function Ee(o,t=null){if(Le.test(o.value)){const s="å¯†ç å¤ªç®€å•ï¼Œè¯·æ¢ä¸€ä¸ª";return t?t(s):ae.warning(s),!1}return!0}function Re(o,t=null){if(!o.value||o.value.trim()===""){const s="éªŒè¯ç ä¸èƒ½ä¸ºç©º";return t?t(s):ae.warning(s),!1}if(!ct.test(o.value)){const s="éªŒè¯ç å¿…é¡»ç”±4ä½æ•°å­—ç»„æˆ";return t?t(s):ae.warning(s),!1}return!0}if(typeof window<"u"){let o=function(){var t=document.body,s=document.getElementById("__svg__icons__dom__");s||(s=document.createElementNS("http://www.w3.org/2000/svg","svg"),s.style.position="absolute",s.style.width="0",s.style.height="0",s.id="__svg__icons__dom__",s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),s.innerHTML='<symbol class="AddTunnels"  viewBox="0 0 1024 1024" id="icon-AddTunnels"><path d="M512 51.597C257.984 51.597 50.803 257.984 50.803 512S257.191 972.403 512 972.403c254.016 0 460.403-206.387 460.403-460.403S766.016 51.597 512 51.597zm0 856.508c-218.295 0-396.105-177.81-396.105-396.105S293.705 115.895 512 115.895 908.105 293.705 908.105 512 730.295 908.105 512 908.105z" /><path d="M723.944 475.485H544.546V295.293c0-18.257-14.289-32.546-32.546-32.546s-32.546 14.289-32.546 32.546v179.398H300.056c-18.258 0-32.546 14.289-32.546 32.546s14.288 32.546 32.546 32.546h179.398V719.18c0 18.258 14.289 32.546 32.546 32.546s32.546-14.288 32.546-32.546V539.783h179.398c18.258 0 32.546-14.288 32.546-32.546s-14.288-31.752-32.546-31.752z" /></symbol><symbol class="App"  viewBox="0 0 1024 1024" id="icon-App"><path d="M483.556 10.724a85.333 85.333 0 0 1 82.574 0L948.082 221.78a85.333 85.333 0 0 1 44.089 74.695v419.016a85.333 85.333 0 0 1-44.09 74.666L566.13 1001.273a85.333 85.333 0 0 1-82.546 0L101.632 790.215a85.333 85.333 0 0 1-44.089-74.723V296.505a85.333 85.333 0 0 1 44.089-74.638L483.556 10.695v.029zm423.253 285.78L524.829 85.448 142.875 296.505v418.987l381.952 211.057 382.01-211.057V296.505zM222.15 338.717a42.667 42.667 0 0 1 57.97-16.725l244.736 135.253L769.65 321.991a42.667 42.667 0 0 1 41.244 74.667L567.524 531.2v268.146a42.667 42.667 0 0 1-85.334 0V531.172L238.82 396.686a42.667 42.667 0 0 1-16.669-58.026v.056z" /></symbol><symbol class="icon"  viewBox="0 0 1024 1024" id="icon-Arrow"><path d="M47.104 453.632q0-43.008 20.992-57.856t66.048-14.848q20.48 0 64.512.512t93.696.512 96.768.512 74.752.512q38.912 1.024 61.44-6.656t22.528-35.328q0-20.48 1.536-48.64t1.536-48.64q1.024-35.84 20.48-45.568t49.152 14.848q30.72 24.576 71.68 58.368t84.992 69.12 86.016 69.632 74.752 59.904q29.696 24.576 30.208 46.592t-28.16 45.568q-29.696 24.576-70.144 56.32t-83.968 65.536-85.504 67.072-74.752 58.88q-35.84 28.672-58.88 21.504t-22.016-44.032V733.184q0-15.36-.512-30.208t-.512-27.136q0-25.6-15.36-32.256t-41.984-6.656q-29.696 0-77.824-.512t-100.352-.512-101.376-.512-79.872-.512q-13.312 0-27.648-2.56t-26.112-9.728T54.272 601.6t-7.168-37.376q0-27.648-.512-53.248t.512-57.344z" /></symbol><symbol class="Auth"  viewBox="0 0 1024 1024" id="icon-Auth"><path d="M902.656 128H121.344C54.784 128 0 184.32 0 253.44v517.632C0 839.68 54.784 896 121.344 896h780.8c67.072 0 121.344-56.32 121.344-125.44V253.44C1024 184.32 969.216 128 902.656 128zm45.568 642.56c0 26.112-20.48 47.104-45.568 47.104H121.344c-25.088 0-45.568-20.992-45.568-47.104V253.44c0-26.112 20.48-47.104 45.568-47.104h780.8c25.088 0 45.568 20.992 45.568 47.104v517.12zM814.08 532.48c27.136-28.672 43.008-67.584 43.008-107.008 0-84.992-67.072-154.112-149.504-154.112S558.08 340.48 558.08 425.472c0 39.424 15.36 78.336 43.008 107.008-60.928 38.4-98.816 107.008-98.816 180.736 0 21.504 16.896 38.912 37.888 38.912 20.992 0 37.888-17.408 37.888-38.912 0-73.728 57.856-133.632 129.536-133.632S837.12 639.488 837.12 713.216c0 21.504 16.896 38.912 37.888 38.912 20.992 0 37.888-17.408 37.888-38.912-.512-73.728-37.888-142.336-98.816-180.736zm-107.008-30.72c-40.448 0-73.728-34.304-73.728-75.776 0-41.984 33.28-75.776 73.728-75.776s73.728 34.304 73.728 75.776c0 41.472-32.768 75.776-73.728 75.776zm-557.568-94.208h334.848c20.992 0 37.888-17.408 37.888-38.912 0-21.504-16.896-38.912-37.888-38.912H149.504c-20.992 0-37.888 17.408-37.888 38.912 0 20.992 16.896 38.912 37.888 38.912zm223.232 208.896H149.504c-20.992 0-37.888 17.408-37.888 38.912 0 21.504 16.896 38.912 37.888 38.912h223.232c20.992 0 37.888-17.408 37.888-38.912 0-20.992-17.408-38.912-37.888-38.912zm83.456-143.36H149.504c-20.992 0-37.888 17.408-37.888 38.912 0 21.504 16.896 38.912 37.888 38.912h306.688c20.992 0 37.888-17.408 37.888-38.912 0-21.504-16.896-38.912-37.888-38.912z" /></symbol><symbol class="CheckIn"  viewBox="0 0 1024 1024" id="icon-CheckIn"><path d="M426.5 770.4c6.2 6.2 14.4 9.3 22.6 9.3s16.4-3.1 22.7-9.3l241.5-241.5c12.4-12.5 12.4-32.8 0-45.3-12.5-12.4-32.9-12.4-45.3 0L449.2 702.5 356 609.3c-12.5-12.4-32.9-12.4-45.3 0-12.4 12.5-12.4 32.9 0 45.3l115.8 115.8z" /><path d="M954.5 281c0-89.9-73.2-163-163-163H761V98.4c0-18.8-15.3-34.1-34.1-34.1s-34.1 15.3-34.1 34.1V118H331.1V98.4c0-18.8-15.3-34.1-34.1-34.1s-34.1 15.2-34.1 34.1V118h-30.4c-89.9 0-163 73.2-163 163v515.7c0 25 5.7 48.7 15.8 69.9 15.8 35.1 44.3 63.3 79.8 78.5 20.6 9.4 43.5 14.6 67.5 14.6h558.7c24 0 46.9-5.3 67.5-14.6 35.4-15.2 64.1-43.4 79.8-78.5 10.1-21.1 15.8-44.9 15.8-69.9l.1-515.7zm-68.3 141.6v374.2c0 52.3-42.5 94.9-94.9 94.9H232.7c-52.3 0-94.9-42.5-94.9-94.9V422.6h748.4zM297.1 261.4c18.8 0 34.1-15.2 34.1-34.1v-41.1h361.6v41.1c0 18.8 15.3 34.1 34.1 34.1s34.1-15.3 34.1-34.1v-41.1h30.4c52.3 0 94.9 42.5 94.9 94.9v73.3H137.9V281c0-52.3 42.5-94.9 94.9-94.9h30.4v41.1c-.1 19 15.1 34.2 33.9 34.2z" /></symbol><symbol class="Conf"  viewBox="0 0 1024 1024" id="icon-Conf"><path d="M955.136 649.024a65.28 65.28 0 0 0-52.8-52.16 12.352 12.352 0 0 1-9.28-6.4 13.568 13.568 0 0 1-.576-11.392 68.352 68.352 0 0 0-17.088-72.896 232.064 232.064 0 0 0-87.232-55.104A61.76 61.76 0 0 0 768.448 448a72.896 72.896 0 0 0-54.336 24.256 11.776 11.776 0 0 1-19.2 0A53.952 53.952 0 0 0 650.176 448a62.464 62.464 0 0 0-19.776 3.264 271.168 271.168 0 0 0-97.216 55.232 68.416 68.416 0 0 0-17.088 72.768 13.568 13.568 0 0 1-.576 11.392 12.288 12.288 0 0 1-9.28 6.4 65.216 65.216 0 0 0-52.608 52.096 274.496 274.496 0 0 0 0 110.016 65.28 65.28 0 0 0 52.8 52.16 12.096 12.096 0 0 1 9.28 6.4 13.568 13.568 0 0 1 .576 11.392 68.352 68.352 0 0 0 17.024 72.896 252.672 252.672 0 0 0 92.16 55.104 62.208 62.208 0 0 0 69.184-20.992 11.776 11.776 0 0 1 19.2 0A62.848 62.848 0 0 0 763.52 960a61.76 61.76 0 0 0 19.712-3.264 251.328 251.328 0 0 0 92.032-54.976 68.416 68.416 0 0 0 17.024-73.024 13.824 13.824 0 0 1 .576-11.392 12.096 12.096 0 0 1 9.344-6.4 65.344 65.344 0 0 0 52.928-52.224 273.856 273.856 0 0 0 0-109.888zm-62.656 96a76.8 76.8 0 0 0-55.04 38.72 82.432 82.432 0 0 0-4.992 68.288 190.592 190.592 0 0 1-68.992 41.152 74.176 74.176 0 0 0-118.208 0A189.632 189.632 0 0 1 576 852.16a82.368 82.368 0 0 0-4.992-68.16 76.8 76.8 0 0 0-54.912-38.72A208.064 208.064 0 0 1 512 704a204.032 204.032 0 0 1 4.224-41.344 76.352 76.352 0 0 0 54.656-38.4 82.368 82.368 0 0 0 5.12-68.288 190.464 190.464 0 0 1 69.248-41.408 74.176 74.176 0 0 0 118.208 0 189.12 189.12 0 0 1 69.12 41.28 82.432 82.432 0 0 0 5.056 68.16 76.224 76.224 0 0 0 54.848 38.4 204.16 204.16 0 0 1 0 82.624z" /><path d="M704 604.16A99.968 99.968 0 1 0 800 704a98.112 98.112 0 0 0-96-99.84zm0 133.12A33.28 33.28 0 1 1 736 704a32.704 32.704 0 0 1-32 33.28zM416 320H224a32 32 0 0 0 0 64h192a32 32 0 0 0 0-64zm0 192H224a32 32 0 0 0 0 64h192a32 32 0 0 0 0-64z" /><path d="M128 128h384v192a64 64 0 0 0 64 64h256v-37.44a64 64 0 0 0-18.816-45.376L594.816 82.752A64 64 0 0 0 549.44 64H128a64 64 0 0 0-64 64v768a64 64 0 0 0 64 64h320v-64H128zm448 192V154.496L741.44 320H576z" /><path d="M352 768a32 32 0 0 0 0-64H224a32 32 0 0 0 0 64z" /></symbol><symbol class="Confirm"  viewBox="0 0 1024 1024" id="icon-Confirm"><path d="M512 73.143a438.857 438.857 0 1 1 0 877.714 438.857 438.857 0 0 1 0-877.714zm0 73.143a365.714 365.714 0 1 0 0 731.428 365.714 365.714 0 0 0 0-731.428z" /><path d="M323.438 506.587a36.571 36.571 0 0 1 46.665-4.242l5.12 4.242 94.72 94.794L680.74 390.583a36.571 36.571 0 0 1 55.954 46.665l-4.242 5.12-236.544 236.544a36.571 36.571 0 0 1-46.666 4.242l-5.12-4.242-120.612-120.686a36.571 36.571 0 0 1 0-51.712z" /></symbol><symbol class="Confirm2"  viewBox="0 0 1024 1024" id="icon-Confirm2"><path d="M493.93 30.118c265.637 0 481.882 216.244 481.882 481.882S759.567 993.882 493.929 993.882 12.047 777.638 12.047 512 228.292 30.118 493.93 30.118zm203.113 306.055L422.37 613.135 286.238 477.003a33.49 33.49 0 0 0-48.49 0 33.49 33.49 0 0 0 0 48.43L399.3 686.982a34.696 34.696 0 0 0 25.42 9.217 34.696 34.696 0 0 0 25.358-9.216L750.05 386.952a33.49 33.49 0 0 0 0-48.49c-16.083-13.854-39.153-13.854-53.007-2.289z" /></symbol><symbol class="Home"  viewBox="0 0 1024 1024" id="icon-Home"><path d="M858.667 128a80 80 0 0 1 80 80v602.667A85.333 85.333 0 0 1 853.333 896H170.667a85.333 85.333 0 0 1-85.334-85.333V208a80 80 0 0 1 80-80h693.334zm-5.334 85.333H170.667v597.334h682.666V213.333zm-423.125 148.48L593.92 532.181l119.061-153.045a42.667 42.667 0 0 1 55.467-10.496l4.416 3.008a42.667 42.667 0 0 1 10.496 55.467l-3.008 4.416-179.627 230.933L436.523 491.52 332.16 623.787a42.667 42.667 0 0 1-55.53 10.09l-4.395-3.05a42.667 42.667 0 0 1-10.112-55.531l3.05-4.395 165.035-209.109z" /></symbol><symbol class="switch"  viewBox="0 0 1024 1024" id="icon-Switch"><path d="M886.2 604.8H137.8c-22.1 0-40 17.9-40 40 0 8.4 2.6 16.2 7 22.6 1.9 4.5 4.8 8.7 8.4 12.4L289.5 856c7.8 7.8 18 11.7 28.3 11.7s20.5-3.9 28.3-11.7c15.6-15.6 15.6-40.9 0-56.6L231.3 684.8h654.8c22.1 0 40-17.9 40-40s-17.8-40-39.9-40zM137.8 419.2h748.4c22.1 0 40-17.9 40-40 0-8.4-2.6-16.2-7-22.6-1.4-3.3-3.4-6.5-5.8-9.5L769.2 170.9c-14-17.1-39.2-19.6-56.3-5.6-17.1 14-19.6 39.2-5.6 56.3l96.3 117.6H137.8c-22.1 0-40 17.9-40 40s17.9 40 40 40z" /></symbol><symbol class="Tunnels"  viewBox="0 0 1024 1024" id="icon-Tunnels"><path d="M515.413 34.133A477.867 477.867 0 0 0 37.547 512v443.733a34.133 34.133 0 0 0 24.234 34.134 34.133 34.133 0 0 0 9.899 0 34.133 34.133 0 0 0 28.672-15.36l191.147-291.84h441.344l197.973 292.181a34.133 34.133 0 0 0 62.464-19.115V512A477.867 477.867 0 0 0 515.413 34.133zM716.8 614.4H307.2V512a204.8 204.8 0 0 1 409.6 0zm208.213 230.059-139.946-204.8V512a273.067 273.067 0 0 0-546.134 0v126.293l-133.12 203.094V512a409.6 409.6 0 0 1 819.2 0z" /><path d="M477.867 921.6h68.266v66.56h-68.266zm0-102.4h68.266v66.56h-68.266zm0-102.4h68.266v66.56h-68.266z" /></symbol><symbol class="Using"  viewBox="0 0 1024 1024" id="icon-Using"><path d="M262.266 790.365c-6.313 0-12.632 0-18.945 6.312-37.887 12.631-25.26 75.783 18.945 75.783H817.99c25.257 0 37.887-12.633 37.887-31.577 6.319-25.26-6.313-50.518-37.887-50.518H262.266zm0 0" /><path d="M931.66 203.065v707.282c0 18.946-12.632 31.575-31.576 31.575h-713.6c-50.518 0-101.038-37.886-101.038-107.35 0-56.84 37.887-107.357 82.094-107.357h650.45c18.944 0 37.887-18.947 37.887-37.896V45.19c0-18.944-18.944-37.889-37.887-37.889H243.32C110.708 7.3 3.35 114.658 3.35 247.272v618.874c18.945 88.408 82.096 151.56 164.19 151.56h732.544c63.152 0 113.67-50.52 113.67-113.67v-700.97c0-56.833-82.095-56.833-82.095 0zM85.445 247.272c0-88.413 69.463-157.876 157.875-157.876H780.1v562.037H167.54c-31.576 0-63.15 6.314-82.094 25.26V247.272zm0 0" /></symbol>',t.insertBefore(s,t.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",o):o()}const P=(o,t)=>{const s=o.__vccOpts||o;for(const[i,n]of t)s[i]=n;return s},ut={props:["name"]},mt={class:"icon","aria-hidden":"true"},pt=["xlink:href"];function vt(o,t,s,i,n,l){return r(),d("svg",mt,[e("use",{"xlink:href":`#icon-${s.name}`},null,8,pt)])}const Ue=P(ut,[["render",vt]]),ht="/users/update-last-active",we=nt(ht);class _t{constructor(){this.updateInterval=3e4,this.timer=null,this.isTracking=!1,this.lastUpdateTime=0,this.throttleDelay=5e3,this.pendingUpdate=!1}start(){this.isTracking||(this.isTracking=!0,this.setupPageVisibilityHandlers(),this.setupBeforeUnloadHandler(),this.updateLastActive(),this.timer=setInterval(()=>{this.updateLastActive()},this.updateInterval))}stop(){this.isTracking&&(this.isTracking=!1,this.timer&&(clearInterval(this.timer),this.timer=null),this.removePageVisibilityHandlers(),this.removeBeforeUnloadHandler())}updateLastActive(){if(Date.now()-this.lastUpdateTime<this.throttleDelay){this.pendingUpdate||(this.pendingUpdate=!0,setTimeout(()=>{this.pendingUpdate=!1,this.performUpdate()},this.throttleDelay));return}this.performUpdate()}async performUpdate(){try{const t=localStorage.getItem("Token")||localStorage.getItem("AdminToken");if(!t){console.warn("æœªæ‰¾åˆ°tokenï¼Œåœæ­¢æ´»è·ƒæ—¶é—´æ›´æ–°"),this.stop();return}await w.post(we,{},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),this.lastUpdateTime=Date.now()}catch(t){console.error("æ´»è·ƒæ—¶é—´æ›´æ–°å¤±è´¥:",t.message),t.response&&(t.response.status===401||t.response.status===403)&&(console.warn("è®¤è¯å¤±è´¥ï¼Œåœæ­¢æ´»è·ƒæ—¶é—´è·Ÿè¸ª"),this.stop())}}onUserAction(){this.isTracking&&this.updateLastActive()}setupPageVisibilityHandlers(){this.visibilityHandler=()=>{document.visibilityState==="visible"&&this.updateLastActive()},document.addEventListener("visibilitychange",this.visibilityHandler)}removePageVisibilityHandlers(){this.visibilityHandler&&(document.removeEventListener("visibilitychange",this.visibilityHandler),this.visibilityHandler=null)}setupBeforeUnloadHandler(){this.beforeUnloadHandler=()=>{if(localStorage.getItem("Token")||localStorage.getItem("AdminToken")){const s=new Blob([JSON.stringify({})],{type:"application/json"});navigator.sendBeacon(we,s)}},window.addEventListener("beforeunload",this.beforeUnloadHandler)}removeBeforeUnloadHandler(){this.beforeUnloadHandler&&(window.removeEventListener("beforeunload",this.beforeUnloadHandler),this.beforeUnloadHandler=null)}}const de=new _t,ft={mounted(o,t){const s=t.value||["click","touchstart","keydown"],i=()=>{de.onUserAction()};o._activityTrackerHandler=i,s.forEach(n=>{o.addEventListener(n,i)})},unmounted(o){o._activityTrackerHandler&&(["click","touchstart","keydown"].forEach(s=>{o.removeEventListener(s,o._activityTrackerHandler)}),delete o._activityTrackerHandler)}},Te="zyrofrp-announcement-date",gt={__name:"AnnouncementModal",setup(o){const t=M(!1),s=()=>{document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`},i=()=>{const v=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="",v&&window.scrollTo(0,parseInt(v||"0")*-1)},n=()=>{const v=new Date().toDateString();localStorage.getItem(Te)!==v&&(t.value=!0)},l=()=>{t.value=!1;const v=new Date().toDateString();localStorage.setItem(Te,v)};return $e(t,v=>{v?s():i()}),Fe(()=>{i()}),Ae(()=>{n()}),(v,c)=>(r(),te(Be,{name:"modal-fade"},{default:Q(()=>[t.value?(r(),d("div",{key:0,class:"announcement-overlay",onClick:ue(l,["self"])},[e("div",{class:"announcement-modal"},[c[0]||(c[0]=e("div",{class:"announcement-header"},[e("div",{class:"announcement-icon"},[e("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"1024",height:"1024"},[e("path",{d:"M512 56.878545c251.345455 0 455.121455 203.776 455.121455 455.121455S763.345455 967.121455 512 967.121455 56.878545 763.345455 56.878545 512 260.654545 56.878545 512 56.878545z",fill:"#22c55e"}),e("g",{transform:"translate(512,512) scale(0.9) translate(-512,-512)"},[e("path",{d:"M513.629091 284.020364l-181.061818 181.061818a28.439273 28.439273 0 1 0 40.261818 40.215273l110.312727-110.312728v315.717818a28.439273 28.439273 0 0 0 56.878546 0V390.981818l114.408727 114.362182a28.439273 28.439273 0 1 0 40.215273-40.215273l-181.061819-181.061818z",fill:"#ffffff"},[e("animateTransform",{attributeName:"transform",type:"translate",values:"0,0;0,-16;0,0",dur:"1s",repeatCount:"indefinite"})])])])]),e("h3",{class:"announcement-title"},"æœåŠ¡å‡çº§å…¬å‘Š")],-1)),c[1]||(c[1]=e("div",{class:"announcement-content"},[e("p",null,"ç½‘ç«™æ­£å¼ä¸Šçº¿"),e("p",null,"æœåŠ¡å™¨å“è´¨å‡çº§"),e("p",null,"æˆ‘ä»¬çš„æœåŠ¡å°†é•¿æœŸä¿æŒç¨³å®š")],-1)),e("div",{class:"announcement-footer"},[e("button",{class:"announcement-button",onClick:l}," æˆ‘çŸ¥é“äº† ")])])])):C("",!0)]),_:1}))}},yt=P(gt,[["__scopeId","data-v-bb2aa1c9"]]),bt=["title"],kt={class:"env-text"},wt={__name:"EnvironmentIndicator",setup(o){const t=()=>it(),s=K(()=>t()),i=K(()=>s.value==="prod"?"PROD":"DEV"),n=K(()=>({"env-prod":s.value==="prod","env-dev":s.value==="dev"})),l=K(()=>{const v=s.value==="prod"?"ç”Ÿäº§ç¯å¢ƒ":"å¼€å‘ç¯å¢ƒ",c=me();return`${v} - API: ${c}`});return(v,c)=>(r(),d("div",{class:L(["environment-indicator",n.value]),title:l.value},[c[0]||(c[0]=e("div",{class:"env-dot"},null,-1)),e("div",kt,a(i.value),1)],10,bt))}},Tt=P(wt,[["__scopeId","data-v-91268f8e"]]),St={id:"app"},Ct={name:"App"},$t=Object.assign(Ct,{setup(o){return(t,s)=>{const i=qe("activity-track");return h((r(),d("div",St,[m(yt),m(Tt),m(Pe(ze))])),[[i,["click","touchstart","keydown","scroll"]]])}}}),At={name:"LandingPage",data(){return{isLoggedIn:!1,hoveredFeature:null,hoveredPricing:null,activeStep:null,billingPeriod:"monthly",coreFeatures:[{title:"é«˜é€Ÿè¿æ¥",description:"å¤šèŠ‚ç‚¹è´Ÿè½½å‡è¡¡ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„é«˜é€Ÿç¨³å®š",iconType:"lightning",iconClass:"icon-lightning",featured:!1},{title:"å®‰å…¨åŠ å¯†",description:"ç«¯åˆ°ç«¯åŠ å¯†ä¼ è¾“ï¼Œä¿æŠ¤æ‚¨çš„æ•°æ®å®‰å…¨",iconType:"shield",iconClass:"icon-shield",featured:!1},{title:"ç®€å•æ˜“ç”¨",description:"å¯è§†åŒ–é…ç½®ç•Œé¢ï¼Œä¸€é”®éƒ¨ç½²ï¼Œæ— éœ€æŠ€æœ¯èƒŒæ™¯",iconType:"settings",iconClass:"icon-settings",featured:!1},{title:"å®æ—¶ç›‘æ§",description:"è¯¦ç»†çš„æµé‡ç»Ÿè®¡å’Œè¿æ¥çŠ¶æ€ç›‘æ§",iconType:"chart",iconClass:"icon-chart",featured:!1},{title:"å¤šåè®®æ”¯æŒ",description:"æ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰å¤šç§åè®®",iconType:"protocol",iconClass:"icon-protocol",featured:!1},{title:"è·¨å¹³å°å…¼å®¹",description:"æ”¯æŒ Windowsã€macOSã€Linux ç­‰ä¸»æµç³»ç»Ÿ",iconType:"platform",iconClass:"icon-platform",featured:!1}],tutorialSteps:[{title:"æ³¨å†Œè´¦å·",description:"åˆ›å»ºæ‚¨çš„ ZyroFrp è´¦æˆ·",iconType:"user"},{title:"ä¸‹è½½å®¢æˆ·ç«¯",description:"è·å–é€‚åˆæ‚¨ç³»ç»Ÿçš„å®¢æˆ·ç«¯",iconType:"download"},{title:"é…ç½®éš§é“",description:"åœ¨ Web ç•Œé¢åˆ›å»ºå’Œç®¡ç†éš§é“",iconType:"settings"},{title:"å¯åŠ¨æœåŠ¡",description:"è¿è¡Œå®¢æˆ·ç«¯ï¼Œäº«å—å†…ç½‘ç©¿é€",iconType:"rocket"}],pricingPlans:[{name:"å…è´¹ç‰ˆ",description:"é€‚åˆä¸ªäººå¼€å‘è€…å’Œå°å‹é¡¹ç›®",monthlyPrice:"0",yearlyPrice:"0",features:[{text:"æ— é™æµé‡",highlight:!1},{text:"å•éš§é“è¿æ¥",highlight:!1},{text:"åŸºç¡€æŠ€æœ¯æ”¯æŒ",highlight:!1},{text:"Web ç®¡ç†ç•Œé¢",highlight:!1}],buttonText:"å¼€å§‹ä½¿ç”¨",featured:!1},{name:"ä¸“ä¸šç‰ˆ",description:"é€‚åˆæˆé•¿å‹å›¢é˜Ÿå’Œå•†ä¸šé¡¹ç›®",monthlyPrice:"0",yearlyPrice:"0",features:[{text:"æ— é™æµé‡",highlight:!1},{text:"å¤šéš§é“è¿æ¥",highlight:!1},{text:"å¤šèŠ‚ç‚¹è´Ÿè½½å‡è¡¡",highlight:!1},{text:"ä¼˜å…ˆæŠ€æœ¯æ”¯æŒ",highlight:!1},{text:"é«˜çº§ç›‘æ§åŠŸèƒ½",highlight:!1},{text:"è‡ªå®šä¹‰åŸŸå",highlight:!1},{text:"API è®¿é—®æƒé™",highlight:!1}],buttonText:"ç«‹å³å‡çº§",featured:!0,badge:"æœ€å—æ¬¢è¿"},{name:"ä¼ä¸šç‰ˆ",description:"é€‚åˆå¤§å‹ä¼ä¸šå’Œé«˜æµé‡åº”ç”¨",monthlyPrice:"0",yearlyPrice:"0",features:[{text:"æ— é™æµé‡",highlight:!1},{text:"æ— é™éš§é“è¿æ¥",highlight:!1},{text:"ä¸“å±èŠ‚ç‚¹èµ„æº",highlight:!0,description:"ç‹¬äº«é«˜æ€§èƒ½èŠ‚ç‚¹"},{text:"24/7 ä¸“å±æ”¯æŒ",highlight:!1},{text:"å®Œæ•´ API æƒé™",highlight:!1},{text:"ç§æœ‰åŒ–éƒ¨ç½²é€‰é¡¹",highlight:!0,description:"æ”¯æŒæœ¬åœ°éƒ¨ç½²"},{text:"å®šåˆ¶åŒ–æœåŠ¡",highlight:!1}],buttonText:"è”ç³»é”€å”®",featured:!1}]}},methods:{checkLoginStatus(){const o=localStorage.getItem("Token");if(!o){this.isLoggedIn=!1;return}try{const t=JSON.parse(atob(o.split(".")[1])),s=Date.now()/1e3;t.exp&&t.exp<s?(localStorage.removeItem("Token"),this.isLoggedIn=!1):this.isLoggedIn=!0}catch(t){console.error("Token è§£æå¤±è´¥:",t),localStorage.removeItem("Token"),this.isLoggedIn=!1}},openGitHub(){window.open("https://github.com/Jieonix/ZyroFrp","_blank")},goToDashboard(){this.$router.push({name:"UserDashboard"})},goToLogin(){this.$router.push({name:"Login"})},goToRegister(){this.$router.push({name:"Register"})},logout(){localStorage.removeItem("Token"),this.isLoggedIn=!1,this.$router.push({name:"LandingPage"})},goTo(o){const t=document.querySelector(o);t&&t.scrollIntoView({behavior:"smooth"})},featureHover(o){this.hoveredFeature=o},handleFeatureClick(){this.goTo("#tutorials")},pricingHover(o){this.hoveredPricing=o},setBillingPeriod(o){this.billingPeriod=o},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},handleFreeTrial(){this.goToDashboard()},handlePlanSelection(o){o.name==="å…è´¹ç‰ˆ"?this.goToDashboard():o.name==="ä¸“ä¸šç‰ˆ"&&(this.isLoggedIn?this.goToPayment():this.goToLogin())},goToPayment(){const o=new URLSearchParams({billing:this.billingPeriod,monthly_price:"0",yearly_price:"0"});this.$router.push({name:"Payment",query:Object.fromEntries(o)})},scrollToFeatures(){this.goTo("#features")}},mounted(){this.checkLoginStatus(),this.tokenCheckInterval=setInterval(()=>{this.checkLoginStatus()},5*60*1e3)},beforeDestroy(){this.tokenCheckInterval&&clearInterval(this.tokenCheckInterval)}},Pt={class:"landing-page"},It={class:"navbar"},Lt={class:"nav-container"},Et={class:"nav-menu"},Rt={class:"user-actions"},Ut={key:0,class:"user-logged-in"},xt={key:1,class:"user-logged-out"},Mt={class:"hero"},Vt={class:"hero-container"},Ot={class:"hero-content"},Dt={class:"hero-actions"},Ht={id:"features",class:"features-section"},Nt={class:"container"},Ft={class:"features-grid"},Bt=["onMouseenter"],zt={class:"feature-content"},qt={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},jt={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Wt={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Kt={key:3,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Gt={key:4,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Zt={key:5,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Yt={key:6,class:"icon-emoji"},Qt={class:"feature-text"},Jt={id:"pricing",class:"pricing-section"},Xt={class:"container"},es={class:"pricing-content"},ts={class:"pricing-toggle"},ss={class:"pricing-grid"},os=["onMouseenter"],ns={class:"pricing-header"},is={class:"plan-info"},ls={key:0,class:"plan-description"},as={key:0,class:"popular-badge"},rs={class:"pricing-body"},ds={class:"price"},cs={class:"amount"},us={class:"period"},ms={class:"features-list"},ps={key:0,class:"feature-description"},vs={class:"pricing-footer"},hs=["onClick"],_s={id:"tutorials",class:"tutorials-section"},fs={class:"container"},gs={class:"tutorials-grid"},ys=["onMouseenter"],bs={class:"tutorial-number"},ks={class:"tutorial-content"},ws={class:"tutorial-icon"},Ts={key:0,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Ss={key:1,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},Cs={key:2,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},$s={key:3,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},As={key:4,class:"icon-emoji"};function Ps(o,t,s,i,n,l){const v=k("footer_LP");return r(),d("div",Pt,[e("nav",It,[e("div",Lt,[t[19]||(t[19]=e("div",{class:"logo"},[e("h1",null,"ZyroFrp")],-1)),e("ul",Et,[e("li",{onClick:t[0]||(t[0]=(...c)=>l.scrollToTop&&l.scrollToTop(...c)),class:"nav-item"},"é¦–é¡µ"),e("li",{onClick:t[1]||(t[1]=c=>l.goTo("#features")),class:"nav-item"},"åŠŸèƒ½ç‰¹è‰²"),e("li",{onClick:t[2]||(t[2]=c=>l.goTo("#pricing")),class:"nav-item"},"ä»·æ ¼æ–¹æ¡ˆ"),e("li",{onClick:t[3]||(t[3]=c=>l.goTo("#tutorials")),class:"nav-item"},"ä½¿ç”¨æ•™ç¨‹"),e("li",{onClick:t[4]||(t[4]=c=>l.goTo("#about")),class:"nav-item"},"å…³äºæˆ‘ä»¬")]),e("div",Rt,[e("button",{class:"github-btn",onClick:t[5]||(t[5]=(...c)=>l.openGitHub&&l.openGitHub(...c))},t[18]||(t[18]=[e("svg",{width:"18",height:"18",viewBox:"0 0 16 16",fill:"currentColor"},[e("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})],-1),e("span",null,"GitHub",-1)])),n.isLoggedIn?(r(),d("div",Ut,[e("button",{class:"dashboard-btn",onClick:t[6]||(t[6]=(...c)=>l.goToDashboard&&l.goToDashboard(...c))},"æ§åˆ¶å°"),e("button",{class:"logout-btn",onClick:t[7]||(t[7]=(...c)=>l.logout&&l.logout(...c))},"é€€å‡º")])):(r(),d("div",xt,[e("button",{class:"login-btn",onClick:t[8]||(t[8]=(...c)=>l.goToLogin&&l.goToLogin(...c))},"ç™»å½•"),e("button",{class:"register-btn",onClick:t[9]||(t[9]=(...c)=>l.goToRegister&&l.goToRegister(...c))},"æ³¨å†Œ")]))])])]),e("section",Mt,[t[25]||(t[25]=q('<div class="hero-background"><div class="gradient-orb orb-1"></div><div class="gradient-orb orb-2"></div><div class="gradient-orb orb-3"></div><div class="noise-overlay"></div></div>',1)),e("div",Vt,[e("div",Ot,[t[22]||(t[22]=q('<div class="hero-badge"><span class="badge-text">ğŸš€ å…¨æ–°å‡çº§</span></div><h1 class="hero-title"><span class="title-gradient">è®©å†…ç½‘ç©¿é€å˜å¾—</span><span class="title-highlight">ç®€å•é«˜æ•ˆ</span></h1><p class="hero-subtitle"> ä¼ä¸šçº§å†…ç½‘ç©¿é€è§£å†³æ–¹æ¡ˆï¼Œä¸ºå¼€å‘è€…å’Œä¼ä¸šæä¾›ç¨³å®šã€é«˜é€Ÿã€å®‰å…¨çš„ç½‘ç»œè¿æ¥æœåŠ¡ </p>',3)),e("div",Dt,[e("button",{class:"cta-primary",onClick:t[10]||(t[10]=(...c)=>l.handleFreeTrial&&l.handleFreeTrial(...c))},t[20]||(t[20]=[e("span",null,"å…è´¹è¯•ç”¨",-1),e("svg",{class:"btn-arrow",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[e("path",{d:"M6 3L11 8L6 13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),e("button",{class:"cta-secondary",onClick:t[11]||(t[11]=(...c)=>l.scrollToFeatures&&l.scrollToFeatures(...c))},t[21]||(t[21]=[e("span",null,"æŸ¥çœ‹æ¼”ç¤º",-1),e("svg",{class:"btn-play",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[e("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor","stroke-width":"1.5"}),e("path",{d:"M6 5V11L11 8L6 5Z",fill:"currentColor"})],-1)]))]),t[23]||(t[23]=q('<div class="trust-indicators"><div class="trust-item"><div class="trust-icon"><svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M10 1L12.5 7.5L19 8L14 12L16 19L10 15L4 19L6 12L1 8L7.5 7.5L10 1Z" fill="currentColor"></path></svg></div><div class="trust-text"><div class="trust-number">10K+</div><div class="trust-label">æ´»è·ƒç”¨æˆ·</div></div></div><div class="trust-item"><div class="trust-icon"><svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z" stroke="currentColor" stroke-width="2"></path><path d="M10 6V10L13 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path></svg></div><div class="trust-text"><div class="trust-number">99.9%</div><div class="trust-label">æœåŠ¡å¯ç”¨æ€§</div></div></div><div class="trust-item"><div class="trust-icon"><svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M3 12L7 16L17 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="trust-text"><div class="trust-number">24/7</div><div class="trust-label">æŠ€æœ¯æ”¯æŒ</div></div></div></div>',1))]),t[24]||(t[24]=q('<div class="hero-visual"><div class="terminal-window"><div class="terminal-header"><div class="terminal-controls"><div class="control control-red"></div><div class="control control-yellow"></div><div class="control control-green"></div></div><div class="terminal-title">zyrofrp-client</div></div><div class="terminal-body"><div class="terminal-line"><span class="prompt">$</span><span class="command">./frpc -c ./frpc.toml</span></div><div class="terminal-line success"><span class="output">â†’ 2024/01/15 10:23:45 [I] [proxy.go:102] [e5abf6c4a3c3] proxy [web] started successfully</span></div><div class="terminal-line success"><span class="output">â†’ 2024/01/15 10:23:45 [I] [control.go:180] [e5abf6c4a3c3] login to server success</span></div><div class="terminal-line info"><span class="output">â†’ 2024/01/15 10:23:46 [I] [proxy.go:207] [e5abf6c4a3c3] [web] get a user connection</span></div><div class="terminal-cursor"></div></div></div><div class="floating-cards"><div class="float-card card-1"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M10 2L3 7v6c0 3.5 3 6 7 7 4-1 7-3.5 7-7V7l-7-5z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="card-label">HTTP/HTTPS</div></div><div class="float-card card-2"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 20 20" fill="none"><circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="1.5"></circle><path d="M10 6v4l3 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="card-label">TCP/UDP</div></div><div class="float-card card-3"><div class="card-icon"><svg width="20" height="20" viewBox="0 0 20 20" fill="none"><rect x="4" y="6" width="12" height="8" rx="1" stroke="currentColor" stroke-width="1.5"></rect><path d="M7 10h6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path><circle cx="10" cy="10" r="1" fill="currentColor"></circle></svg></div><div class="card-label">å®‰å…¨åŠ å¯†</div></div></div></div>',1))])]),e("section",Ht,[e("div",Nt,[t[33]||(t[33]=e("div",{class:"section-header"},[e("div",{class:"section-badge"},"æ ¸å¿ƒåŠŸèƒ½"),e("h2",{class:"section-title"},"å¼ºå¤§è€Œçµæ´»çš„åŠŸèƒ½"),e("p",{class:"section-subtitle"},"ä¸ºä¸åŒè§„æ¨¡çš„ä¼ä¸šå’Œå¼€å‘è€…æä¾›å®Œæ•´çš„å†…ç½‘ç©¿é€è§£å†³æ–¹æ¡ˆ")],-1)),e("div",Ft,[(r(!0),d(I,null,U(n.coreFeatures,(c,_)=>(r(),d("div",{key:_,class:L(["feature-card",{featured:c.featured,hovered:n.hoveredFeature===_}]),onMouseenter:p=>l.featureHover(_),onMouseleave:t[12]||(t[12]=p=>l.featureHover(null)),onClick:t[13]||(t[13]=p=>l.handleFeatureClick())},[e("div",zt,[e("div",{class:L(["feature-icon",c.iconClass])},[c.iconType==="lightning"?(r(),d("svg",qt,t[26]||(t[26]=[e("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):c.iconType==="shield"?(r(),d("svg",jt,t[27]||(t[27]=[e("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("path",{d:"M9 12l2 2 4-4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):c.iconType==="settings"?(r(),d("svg",Wt,t[28]||(t[28]=[e("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"},null,-1),e("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),e("path",{d:"M20.5 7.5L16 12l4.5 4.5M3.5 7.5L8 12l-4.5 4.5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):c.iconType==="chart"?(r(),d("svg",Kt,t[29]||(t[29]=[e("path",{d:"M18 20V10m-6 10V4m-6 16v-6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)]))):c.iconType==="protocol"?(r(),d("svg",Gt,t[30]||(t[30]=[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor","stroke-width":"2"},null,-1),e("path",{d:"M8 12h8m-4-4v8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)]))):c.iconType==="platform"?(r(),d("svg",Zt,t[31]||(t[31]=[e("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",stroke:"currentColor","stroke-width":"2"},null,-1),e("path",{d:"M8 21h8m-4-4v4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1)]))):(r(),d("span",Yt,a(c.emoji),1))],2),e("div",Qt,[e("h3",null,a(c.title),1),e("p",null,a(c.description),1)])]),t[32]||(t[32]=e("div",{class:"feature-arrow"},[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[e("path",{d:"M7 4L13 10L7 16",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))],42,Bt))),128))]),t[34]||(t[34]=q('<div class="feature-showcase"><div class="showcase-left"><div class="showcase-content"><h3>æ™ºèƒ½è·¯ç”±</h3><p>è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜è·¯å¾„ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„é«˜æ•ˆæ€§å’Œç¨³å®šæ€§</p><ul class="showcase-features"><li><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M2 8L6 12L14 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>æ™ºèƒ½è´Ÿè½½å‡è¡¡</li><li><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M2 8L6 12L14 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>æ•…éšœè‡ªåŠ¨åˆ‡æ¢</li><li><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M2 8L6 12L14 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>å…¨çƒèŠ‚ç‚¹è¦†ç›–</li></ul></div></div><div class="showcase-visual"><div class="network-diagram"><div class="node central">æ™ºèƒ½è·¯ç”±</div><div class="node node1">èŠ‚ç‚¹1</div><div class="node node2">èŠ‚ç‚¹2</div><div class="node node3">èŠ‚ç‚¹3</div><div class="connection conn1"></div><div class="connection conn2"></div><div class="connection conn3"></div></div></div></div>',1))])]),e("section",Jt,[t[41]||(t[41]=e("div",{class:"pricing-overlay"},[e("div",{class:"pricing-overlay-x"},"Ã—"),e("div",{class:"pricing-overlay-text"},[E("ç°é˜¶æ®µå®Œå…¨å…è´¹"),e("br"),E("åæœŸå³ä½¿å¼€æ”¾ä»˜è´¹ï¼Œä¹Ÿä¼šæ°¸ä¹…æä¾›å…è´¹é«˜è´¨é‡æœåŠ¡ï¼")])],-1)),e("div",Xt,[t[40]||(t[40]=e("div",{class:"section-header"},[e("div",{class:"section-badge"},"ä»·æ ¼æ–¹æ¡ˆ"),e("h2",{class:"section-title"},"é€‰æ‹©é€‚åˆæ‚¨çš„æ–¹æ¡ˆ"),e("p",{class:"section-subtitle"},"ä»ä¸ªäººå¼€å‘è€…åˆ°ä¼ä¸šçº§åº”ç”¨ï¼Œæˆ‘ä»¬éƒ½æœ‰åˆé€‚çš„è§£å†³æ–¹æ¡ˆ")],-1)),e("div",es,[e("div",ts,[e("button",{class:L(["toggle-btn",{active:n.billingPeriod==="monthly"}]),onClick:t[14]||(t[14]=c=>l.setBillingPeriod("monthly"))},"æŒ‰æœˆä»˜è´¹",2),e("button",{class:L(["toggle-btn",{active:n.billingPeriod==="yearly"}]),onClick:t[15]||(t[15]=c=>l.setBillingPeriod("yearly"))},t[35]||(t[35]=[E("æŒ‰å¹´ä»˜è´¹ "),e("span",{class:"discount"},"çœ20%",-1)]),2)]),e("div",ss,[(r(!0),d(I,null,U(n.pricingPlans,(c,_)=>(r(),d("div",{key:_,class:L(["pricing-card",{featured:c.featured,enterprise:c.name==="ä¼ä¸šç‰ˆ",hovered:n.hoveredPricing===_}]),onMouseenter:p=>l.pricingHover(_),onMouseleave:t[16]||(t[16]=p=>l.pricingHover(null))},[e("div",ns,[e("div",is,[e("h3",null,a(c.name),1),c.description?(r(),d("p",ls,a(c.description),1)):C("",!0)]),c.featured?(r(),d("div",as,[e("span",null,a(c.badge),1)])):C("",!0)]),e("div",rs,[e("div",ds,[t[36]||(t[36]=e("span",{class:"currency"},"Â¥",-1)),e("span",cs,a(n.billingPeriod==="yearly"?c.yearlyPrice:c.monthlyPrice),1),e("span",us,"/"+a(n.billingPeriod==="yearly"?"å¹´":"æœˆ"),1)]),e("ul",ms,[(r(!0),d(I,null,U(c.features,(p,u)=>(r(),d("li",{key:u,class:L({highlight:p.highlight})},[t[37]||(t[37]=e("svg",{class:"check-icon",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M7 12L10.5 15.5L17 9",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("span",null,a(p.text),1),p.description?(r(),d("span",ps,a(p.description),1)):C("",!0)],2))),128))])]),e("div",vs,[e("button",{class:L(["pricing-btn",{primary:c.featured,secondary:!c.featured,enterprise:c.name==="ä¼ä¸šç‰ˆ"}]),onClick:p=>l.handlePlanSelection(c)},[e("span",null,a(c.buttonText),1),t[38]||(t[38]=e("svg",{class:"btn-arrow",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},[e("path",{d:"M6 3L11 8L6 13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))],10,hs)])],42,os))),128))]),t[39]||(t[39]=e("div",{class:"pricing-note"},[e("p",null,"æ‰€æœ‰æ–¹æ¡ˆå‡åŒ…å« 7 å¤©å…è´¹è¯•ç”¨æœŸ â€¢ éšæ—¶å¯ä»¥å‡çº§æˆ–é™çº§ â€¢ æ— éšè—è´¹ç”¨")],-1))])])]),e("section",_s,[e("div",fs,[t[46]||(t[46]=e("div",{class:"section-header"},[e("div",{class:"section-badge"},"ä½¿ç”¨æ•™ç¨‹"),e("h2",{class:"section-title"},"å¿«é€Ÿå¼€å§‹ä½¿ç”¨"),e("p",{class:"section-subtitle"},"ç®€å•å››æ­¥ï¼Œè½»æ¾æ­å»ºå†…ç½‘ç©¿é€æœåŠ¡")],-1)),e("div",gs,[(r(!0),d(I,null,U(n.tutorialSteps,(c,_)=>(r(),d("div",{key:_,class:L(["tutorial-card",{active:n.activeStep===_}]),onMouseenter:p=>n.activeStep=_,onMouseleave:t[17]||(t[17]=p=>n.activeStep=null)},[e("div",bs,a(_+1),1),e("div",ks,[e("h3",null,a(c.title),1),e("p",null,a(c.description),1)]),e("div",ws,[c.iconType==="user"?(r(),d("svg",Ts,t[42]||(t[42]=[e("circle",{cx:"12",cy:"8",r:"4",stroke:"currentColor","stroke-width":"2"},null,-1),e("path",{d:"M12 14c-4 0-8 2-8 6v2h16v-2c0-4-4-6-8-6z",stroke:"currentColor","stroke-width":"2"},null,-1)]))):c.iconType==="download"?(r(),d("svg",Ss,t[43]||(t[43]=[e("path",{d:"M12 2v16m0 0l-4-4m4 4l4-4",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),e("rect",{x:"4",y:"18",width:"16",height:"4",rx:"1",stroke:"currentColor","stroke-width":"2"},null,-1)]))):c.iconType==="settings"?(r(),d("svg",Cs,t[44]||(t[44]=[e("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor","stroke-width":"2"},null,-1),e("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},null,-1),e("path",{d:"M20.5 7.5L16 12l4.5 4.5M3.5 7.5L8 12l-4.5 4.5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):c.iconType==="rocket"?(r(),d("svg",$s,t[45]||(t[45]=[e("path",{d:"M12 2l3 7h7l-5 5 1 7-6-4-6 4 1-7-5-5h7l3-7z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(r(),d("span",As,a(c.emoji),1))])],42,ys))),128))])])]),t[48]||(t[48]=q('<section id="about" class="about-section"><div class="container"><div class="section-header"><div class="section-badge">å…³äºæˆ‘ä»¬</div><h2 class="section-title">ä¸“ä¸šçš„å†…ç½‘ç©¿é€æœåŠ¡æä¾›å•†</h2><p class="section-subtitle">è‡´åŠ›äºä¸ºç”¨æˆ·æä¾›ç¨³å®šã€å¿«é€Ÿã€å®‰å…¨çš„å†…ç½‘ç©¿é€è§£å†³æ–¹æ¡ˆ</p></div><div class="about-content"><div class="about-text"><p>ZyroFrp æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ FRP å†…ç½‘ç©¿é€æœåŠ¡å¹³å°ï¼ŒåŸºäºå¼€æºé¡¹ç›® frp å¼€å‘ï¼Œä¸ºä¸ªäººå¼€å‘è€…å’Œä¼ä¸šç”¨æˆ·æä¾›é«˜æ•ˆç¨³å®šçš„å†…ç½‘ç©¿é€æœåŠ¡ã€‚</p><p>æˆ‘ä»¬æ‹¥æœ‰å¤šå¹´çš„ç½‘ç»œæœåŠ¡ç»éªŒï¼ŒæŠ€æœ¯å›¢é˜ŸæŒç»­ä¼˜åŒ–æœåŠ¡æ€§èƒ½ï¼Œç¡®ä¿ç”¨æˆ·è·å¾—æœ€ä½³çš„ä½¿ç”¨ä½“éªŒã€‚</p></div><div class="stats-grid"><div class="stat-card"><div class="stat-icon"><svg width="40" height="40" viewBox="0 0 24 24" fill="none"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="stat-number">10K+</div><div class="stat-label">æ´»è·ƒç”¨æˆ·</div></div><div class="stat-card"><div class="stat-icon"><svg width="40" height="40" viewBox="0 0 24 24" fill="none"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="stat-number">99.9%</div><div class="stat-label">æœåŠ¡å¯ç”¨æ€§</div></div><div class="stat-card"><div class="stat-icon"><svg width="40" height="40" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"></circle><path d="M2 12h20" stroke="currentColor" stroke-width="2"></path><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z" stroke="currentColor" stroke-width="2"></path></svg></div><div class="stat-number">50+</div><div class="stat-label">å…¨çƒèŠ‚ç‚¹</div></div><div class="stat-card"><div class="stat-icon"><svg width="40" height="40" viewBox="0 0 24 24" fill="none"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="stat-number">24/7</div><div class="stat-label">æŠ€æœ¯æ”¯æŒ</div></div></div></div></div></section>',1)),m(v,{class:"footer_LP"},{default:Q(()=>t[47]||(t[47]=[e("div",{class:"container"},[e("div",{class:"footer-content"},[e("div",{class:"footer-section"},[e("h3",null,"ZyroFrp"),e("p",null,"ä¸“ä¸šçš„ FRP å†…ç½‘ç©¿é€æœåŠ¡")]),e("div",{class:"footer-section"},[e("h4",null,"äº§å“"),e("ul",null,[e("li",null,[e("a",{href:"#features"},"åŠŸèƒ½ç‰¹è‰²")]),e("li",null,[e("a",{href:"#pricing"},"ä»·æ ¼æ–¹æ¡ˆ")]),e("li",null,[e("a",{href:"#tutorials"},"ä½¿ç”¨æ•™ç¨‹")])])]),e("div",{class:"footer-section"},[e("h4",null,"æ”¯æŒ"),e("ul",null,[e("li",null,[e("a",{href:"#"},"å¸®åŠ©æ–‡æ¡£")]),e("li",null,[e("a",{href:"#"},"è”ç³»æˆ‘ä»¬")]),e("li",null,[e("a",{href:"#"},"æœåŠ¡çŠ¶æ€")])])]),e("div",{class:"footer-section"},[e("h4",null,"æ³•å¾‹"),e("ul",null,[e("li",null,[e("a",{href:"#"},"æœåŠ¡æ¡æ¬¾")]),e("li",null,[e("a",{href:"#"},"éšç§æ”¿ç­–")])])])])],-1),e("div",{class:"footer-bottom"},[e("p",null,"Â© 2024 ZyroFrp. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚")],-1)])),_:1})])}const Is=P(At,[["render",Ps]]),Ls="/icons/king.png",J=je("loading",()=>{const o=M(!1);function t(){o.value=!0}function s(){o.value=!1}return{isLoading:o,showLoading:t,hideLoading:s}}),Es={__name:"Loading",setup(o){const t=J();return $e(()=>t.isLoading,s=>{s?document.body.style.overflow="hidden":document.body.style.overflow=""}),(s,i)=>{const n=k("van-overlay");return r(),te(n,{show:Pe(t).isLoading,class:"overlay"},{default:Q(()=>i[0]||(i[0]=[e("div",{class:"spinner"},null,-1)])),_:1},8,["show"])}}},B=P(Es,[["__scopeId","data-v-14768e36"]]),Rs={},Us={class:"header"};function xs(o,t){return r(),d("header",Us,t[0]||(t[0]=[e("h1",null,"ZyroFrp",-1)]))}const A=P(Rs,[["render",xs],["__scopeId","data-v-be4697ae"]]),Ms={class:"sidebar"},Vs={key:0,class:"menu-group"},Os={key:1},Ds={__name:"UniversalSidebar",props:{type:{type:String,required:!0,validator:o=>["user","admin"].includes(o)}},setup(o){const t=o,s=[{name:"dashboard",type:"item",label:"ä»ªè¡¨ç›˜",route:"UserDashboard",icon:"Home",class:"with-icon"},{name:"checkin",type:"item",label:"ç­¾åˆ°",route:"UserCheckIn",icon:"CheckIn",class:"with-icon"},{name:"auth",type:"item",label:"èº«ä»½è®¤è¯",route:"RealNameAuth",icon:"Auth",class:"with-icon"},{name:"tunnels",type:"item",label:"éš§é“åˆ—è¡¨",route:"TunnelList",icon:"Tunnels",class:"with-icon"},{name:"add-tunnel",type:"item",label:"æ·»åŠ éš§é“",route:"AddTunnel",icon:"AddTunnels",class:"with-icon"},{name:"tunnel-config",type:"item",label:"é…ç½®æ–‡ä»¶",route:"TunnelConfig",icon:"Conf",class:"with-icon"},{name:"applications",type:"item",label:"åº”ç”¨ç¨‹åº",route:"FRPDownloads",icon:"App",class:"with-icon"},{name:"tutorials",type:"item",label:"ä½¿ç”¨æ•™ç¨‹",route:"UserTutorials",icon:"Using",class:"with-icon"}],i=[{name:"site-info",type:"item",label:"ç«™ç‚¹ä¿¡æ¯",route:"Dashboard"},{name:"user-management",type:"item",label:"ç”¨æˆ·ä¿¡æ¯ç®¡ç†",route:"UserManagement"},{name:"tunnel-management",type:"item",label:"éš§é“ç®¡ç†",route:"TunnelManagement"},{name:"auth-management",type:"item",label:"å®åç®¡ç†",route:"AuthManagement"},{name:"announcement-management",type:"item",label:"å…¬å‘Šç®¡ç†",route:"AnnouncementManagement"},{name:"answer-management",type:"item",label:"ç­”é¢˜ç®¡ç†",route:"AnswerManagement"},{name:"question-management",type:"item",label:"é¢˜ç›®ç®¡ç†",route:"QuestionManagement"},{name:"email-management",type:"item",label:"é‚®ä»¶ç¾¤å‘",route:"EmailManagement"},{name:"email-code-management",type:"item",label:"éªŒè¯ç ç®¡ç†",route:"EmailCodeManagement"},{name:"server-management",type:"item",label:"æœåŠ¡å™¨ç®¡ç†",route:"ServerManagement"},{name:"log-management",type:"item",label:"æ“ä½œæ—¥å¿—",route:"LogManagement"},{name:"statistics",type:"item",label:"æ—¥å¿—ç»Ÿè®¡",route:"Statistics"}],n=K(()=>t.type==="admin"?i:s);return K(()=>({sidebar:!0,"sidebar-user":t.type==="user","sidebar-admin":t.type==="admin"})),(l,v)=>{const c=k("router-link");return r(),d("nav",Ms,[e("ul",null,[(r(!0),d(I,null,U(n.value,_=>(r(),d(I,{key:_.name},[_.type==="group"?(r(),d("li",Vs,a(_.label),1)):(r(),d("li",Os,[m(c,{to:{name:_.route},"active-class":"active",class:L(_.class)},{default:Q(()=>[_.icon?(r(),te(Ue,{key:0,name:_.icon,class:L(["icon",_.iconClass])},null,8,["name","class"])):C("",!0),E(" "+a(_.label),1)]),_:2},1032,["to","class"])]))],64))),128))])])}}},xe=P(Ds,[["__scopeId","data-v-3c19b331"]]),N={__name:"Sidebar",setup(o){return(t,s)=>(r(),te(xe,{type:"user"}))}},Hs={},Ns={class:"footer"};function Fs(o,t){return r(),d("footer",Ns,t[0]||(t[0]=[e("p",null,"Â© 2025 zyrooTeam ä¿ç•™æ‰€æœ‰æƒåˆ©",-1),e("p",null,[e("a",{href:""},"æœåŠ¡æ”¿ç­–"),E(" ï½œ "),e("a",{href:""},"éšç§æ¡æ¬¾")],-1)]))}const x=P(Hs,[["render",Fs],["__scopeId","data-v-a641d499"]]),X={checkTokenValidity(){const o=j(),t=localStorage.getItem("Token");W(o,t)}},Bs={class:"home"},zs={class:"main-content"},qs={class:"features"},js={class:"f_left"},Ws={class:"feature-box fb1"},Ks={class:"fb1_p1"},Gs={key:0,class:"trial"},Zs={class:"fb1_p2"},Ys={class:"fb1_p2_b"},Qs={class:"fb1_p3"},Js={class:"fb1_p3_b"},Xs={class:"fb1_p4"},eo={class:"feature-box fb2"},to={class:"fb2-div"},so={class:"fb2-table"},oo={class:"fb2-tr"},no={class:"fb2-td-bottom"},io={class:"fb2-td-bottom"},lo={class:"fb2-td-bottom"},ao={class:"f_right"},ro={class:"fb5_div"},co={class:"fb5-h3-2"},uo={name:"Home",components:{Header:A,Sidebar:N,Footer:x},data(){const o=window.matchMedia("(prefers-color-scheme: dark)").matches;return{token:localStorage.getItem("Token"),userInfo:null,email:"",vipStatus:"",creatTime:"",userToken:"",timeSinceCreation:0,remaining_traffic:"",upload_limit:"",download_limit:"",is_trial_user:!1,overflow:!1,announcements:[],showAll:!1,normalUserStyle:o?{backgroundColor:"#606060",color:"#dfdfdf",fontWeight:"bold",fontSize:"0.7rem",padding:"2px 5px",margin:"0 3px 0 5px",borderRadius:"3px"}:{backgroundColor:"#606060",color:"#dfdfdf",fontWeight:"bold",fontSize:"0.7rem",padding:"2px 5px",margin:"0 3px 0 5px",borderRadius:"3px"},vipStyle:o?{backgroundColor:"#ffd700",color:"#383838",fontWeight:"bold",fontSize:"0.7rem",padding:"0.2475rem 0.4125rem",margin:"0 0.1875rem 0 0.3125rem",borderRadius:"0.1875rem"}:{backgroundColor:"#ffd700",color:"#383838",fontWeight:"bold",fontSize:"0.7rem",padding:"0.2475rem 0.4125rem",margin:"0 0.1875rem 0 0.3125rem",borderRadius:"0.1875rem"}}},computed:{displayedAnnouncements(){return this.showAll?this.announcements:this.announcements.slice(0,7)}},methods:{...X,async getUserInfo(){try{const o=J();o.showLoading();const t=await w.post("/users/info",{token:this.token});o.hideLoading(),this.userInfo=t.data.data,this.vipStatus=String(this.userInfo.vip_status),this.email=this.userInfo.email,this.creatTime=this.userInfo.created_at;const s=new Date(this.creatTime),i=new Date;this.timeSinceCreation=((i-s)/1e3/60/60/24).toFixed(3),this.userKey=this.userInfo.user_key,this.remaining_traffic=this.userInfo.remaining_traffic,this.upload_limit=this.userInfo.upload_limit,this.download_limit=this.userInfo.download_limit,this.is_trial_user=this.userInfo.is_trial_user}catch(o){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",o)}},async fetchAnnouncements(){try{const o=await w.get("/announcements");this.announcements=o.data.data,this.sortAnnouncements()}catch(o){console.error("è·å–å…¬å‘Šæ•°æ®å¤±è´¥ï¼š",o)}},sortAnnouncements(){const o=this.announcements.filter(i=>i.is_pinned===2),t=this.announcements.filter(i=>i.is_pinned===1),s=this.announcements.filter(i=>i.is_pinned===0);o.sort((i,n)=>n.id-i.id),t.sort((i,n)=>n.id-i.id),s.sort((i,n)=>n.id-i.id),this.announcements=[...o,...t,...s]},formatDate(o){return new Date(o).toLocaleDateString()},displayVipStatus(){return this.vipStatus==="0"?"æ™®é€šç”¨æˆ·":this.vipStatus==="1"?"VIP":this.vipStatus},displayStyle(){return this.vipStatus==="1"?this.vipStyle:this.normalUserStyle},copy_userKey(){navigator.clipboard.writeText(this.userKey).then(()=>{this.$message.success("userKeyå·²å¤åˆ¶æˆåŠŸ")}).catch(()=>{this.$message.error("userKeyæœªå¤åˆ¶æˆåŠŸï¼Œè¯·é‡è¯•")})},switch_announcement(){this.overflow=!this.overflow,this.showAll=!this.showAll}},mounted(){this.checkTokenValidity(),this.getUserInfo(),this.fetchAnnouncements()}},mo=Object.assign(uo,{setup(o){return(t,s)=>{const i=k("SvgIcon");return r(),d("div",Bs,[m(B),m(A),m(N),e("main",zs,[m(B),s[15]||(s[15]=e("section",{class:"welcome"},[e("h2",null,"æ¬¢è¿æ¥åˆ° FRP ç®¡ç†å¹³å°"),e("p",null,"åœ¨è¿™é‡Œä½ å¯ä»¥ç®¡ç†å’ŒæŸ¥çœ‹ä¸ªäººä¿¡æ¯å¹¶æŸ¥çœ‹å®˜æ–¹å…¬å‘Šï¼Œç›‘æ§æµé‡å’ŒçŠ¶æ€")],-1)),e("section",qs,[e("div",js,[e("div",Ws,[s[7]||(s[7]=e("h3",{class:"fb-h3"},"ä¸ªäººèµ„æ–™",-1)),e("p",Ks,[E(" å°Šæ•¬çš„"+a(t.displayVipStatus())+"ï¼Œæ‚¨å¥½ï¼ ",1),e("b",{style:le(t.displayStyle()),class:"vip"},a(t.displayVipStatus()),5),t.is_trial_user===1?(r(),d("b",Gs,s[2]||(s[2]=[e("img",{src:Ls},null,-1),E("å…ˆé”‹æµ‹è¯•ç”¨æˆ·")]))):C("",!0)]),e("p",Zs,[s[3]||(s[3]=E("æ‚¨çš„é‚®ç®±ä¸ºï¼š")),e("b",Ys,a(t.email),1)]),e("p",Qs,[s[4]||(s[4]=E("æ‚¨å·²ç»é™ªæˆ‘ä»¬åº¦è¿‡äº† ")),e("b",Js,a(t.timeSinceCreation),1),s[5]||(s[5]=E(" å¤©"))]),e("p",Xs,[s[6]||(s[6]=E("æ‚¨çš„ userKey ä¸ºï¼š")),e("b",{class:"fb1_p4_b",onClick:s[0]||(s[0]=(...n)=>t.copy_userKey&&t.copy_userKey(...n))},a(t.userKey),1)])]),e("div",eo,[s[9]||(s[9]=e("h3",{class:"fb-h3"},"æ•°æ®æŠ¥å‘Š",-1)),e("div",to,[e("table",so,[s[8]||(s[8]=e("thead",null,[e("tr",{class:"fb2-tr"},[e("td",{class:"fb2-td-top"},"å‰©ä½™æµé‡"),e("td",{class:"fb2-td-top"},"ä¸Šè¡Œé€Ÿç‡"),e("td",{class:"fb2-td-top"},"ä¸‹è¡Œé€Ÿç‡")])],-1)),e("tbody",null,[e("tr",oo,[e("td",no,a(t.remaining_traffic)+"GB",1),e("td",io,a(t.upload_limit)+"Mb/s",1),e("td",lo,a(t.download_limit)+"Mb/s",1)])])])])]),s[10]||(s[10]=q('<div class="feature-box fb3" data-v-721e1c39><h3 class="fb-h3" data-v-721e1c39>å¹¿å‘Šä½æ‹›å•†</h3><p data-v-721e1c39></p><br data-v-721e1c39><br data-v-721e1c39><br data-v-721e1c39><br data-v-721e1c39><br data-v-721e1c39></div><hr class="line" data-v-721e1c39><div class="feature-box fb4" data-v-721e1c39><h3 class="fb-h3" data-v-721e1c39>æ³¨æ„äº‹é¡¹</h3><p class="fb4-p" data-v-721e1c39> 1. è´¦å·å®‰å…¨ï¼šè¯·ç¡®ä¿æ‚¨çš„è´¦å·å’Œå¯†ç å®‰å…¨ï¼Œä¸è¦ä¸ä»–äººå…±äº«ï¼Œé¿å…ä½¿ç”¨å¼±å¯†ç ã€‚<br data-v-721e1c39> 2. æœåŠ¡è´¹ç”¨ä¸ç»“ç®—ï¼šæ‰€æœ‰è´¹ç”¨éœ€æå‰æ”¯ä»˜ï¼Œæ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼ï¼Œé€‰æ‹©æœåŠ¡å¥—é¤æ—¶è¯·æ³¨æ„ä»˜æ¬¾æ–¹å¼ã€‚<br data-v-721e1c39> 3. æœåŠ¡ç¨³å®šæ€§ï¼šæˆ‘ä»¬è‡´åŠ›äºæä¾›ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼Œä½†ä¸å¯æ§å› ç´ å¯èƒ½å½±å“æœåŠ¡ã€‚é‡åˆ°é—®é¢˜æ—¶è¯·åŠæ—¶è”ç³»å®¢æœã€‚<br data-v-721e1c39> 4. ä½¿ç”¨èŒƒå›´ï¼šFRP æœåŠ¡ä»…é™åˆæ³•ä½¿ç”¨ï¼Œç¦æ­¢ç”¨äºè¿æ³•æ´»åŠ¨ï¼Œä»»ä½•ä¸å½“è¡Œä¸ºä¼šè¢«ç«‹å³åœæ­¢æœåŠ¡ã€‚<br data-v-721e1c39> 5. æ•°æ®éšç§ï¼šæˆ‘ä»¬ä¸¥æ ¼ä¿æŠ¤æ‚¨çš„æ•°æ®éšç§ï¼Œå®šæœŸå¤‡ä»½æ‚¨çš„æ•°æ®ï¼Œä»¥é˜²æ­¢ä¸¢å¤±ã€‚<br data-v-721e1c39> 6. æŠ€æœ¯æ”¯æŒï¼šæä¾›7x24å°æ—¶æŠ€æœ¯æ”¯æŒï¼Œé‡åˆ°é—®é¢˜è¯·é€šè¿‡å®¢æœå·¥å…·è”ç³»ã€‚<br data-v-721e1c39> 7. æœåŠ¡æœŸé™ä¸ç»­è´¹ï¼šæœåŠ¡åˆ°æœŸåè‡ªåŠ¨åœæ­¢ï¼Œç»­è´¹æ—¶è¯·æå‰å¤„ç†ï¼Œé¿å…æœåŠ¡ä¸­æ–­ã€‚<br data-v-721e1c39> 8. ä¸å¯æŠ—åŠ›æ¡æ¬¾ï¼šå¦‚é‡ä¸å¯æŠ—åŠ›å› ç´ ï¼Œæˆ‘ä»¬å°†å°½åŠ›æ¢å¤æœåŠ¡ï¼Œå¹¶æ‰¿æ‹…ç”±æ­¤é€ æˆçš„æŸå¤±ï¼Œç»™äºˆæ‚¨ç›¸åº”è¡¥å¿ã€‚<br data-v-721e1c39> 9. é€€æ¬¾æ”¿ç­–ï¼šè¯·æ‚¨æ…é‡è€ƒè™‘åå†ä¸‹å•ï¼Œä»˜æ¬¾åä¸å¯é€€æ¬¾ï¼Œå¯å…ˆä½“éªŒå…è´¹æœåŠ¡å†å†³å®šæ˜¯å¦ä¸‹å•vipæœåŠ¡ã€‚<br data-v-721e1c39> 10. ç”¨æˆ·è´£ä»»ï¼šè¯·å¦¥å–„ç®¡ç†è®¾å¤‡å’Œç½‘ç»œï¼Œä»»ä½•å› ç”¨æˆ·åŸå› å¯¼è‡´çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸æ‰¿æ‹…è´£ä»»ã€‚<br data-v-721e1c39></p></div>',3))]),e("div",ao,[e("div",{class:"feature-box fb5",style:le({overflow:t.overflow?"auto":"visible"})},[e("div",ro,[s[11]||(s[11]=e("h3",{class:"fb5-h3"},"å…¬å‘Šæ¿",-1)),e("div",{class:"fb5_div_div",onClick:s[1]||(s[1]=(...n)=>t.switch_announcement&&t.switch_announcement(...n))},[m(i,{name:"Switch"})])]),s[14]||(s[14]=e("hr",{class:"fb5-line"},null,-1)),(r(!0),d(I,null,U(t.displayedAnnouncements,n=>(r(),d("div",{class:"announcement",key:n.id},[e("h3",co,a(n.title),1),e("p",null,a(n.content),1),e("p",null,[s[12]||(s[12]=e("strong",null,"å‘å¸ƒæ—¥æœŸï¼š",-1)),E(" "+a(t.formatDate(n.created_at)),1)]),e("p",null,[s[13]||(s[13]=e("strong",null,"æ›´æ–°æ—¥æœŸï¼š",-1)),E(" "+a(t.formatDate(n.updated_at)),1)])]))),128))],4)])]),m(x)])])}}}),po=P(mo,[["__scopeId","data-v-721e1c39"]]),vo="/Emoticon.png",ho={class:"check_in"},_o={class:"main-content"},fo={class:"features"},go={class:"feature-box fb1"},yo={key:0},bo={class:"fb1-p"},ko={class:"fb1-pre"},wo={class:"form-group"},To={key:1},So={class:"Answered_h3"},Co={name:"check_in",components:{Header:A,Sidebar:N,Footer:x},data(){return{questionText:"",questionA:"",questionB:"",questionC:"",questionD:"",answer:"A",isQuiz:!1,messages:["å“¥ï¼Œä»Šå¤©é¢˜ç›®ä½ å·²ç»æ‹¿æäº†ï¼Œåˆ«å·å•¦ï¼Œç•™ç‚¹å®åŠ›æ˜å¤©ç”¨ï¼","ä»Šæ—¥ä»½è„‘ç»†èƒå·²æ¶ˆè€—å®Œæ¯•ï¼Œè¯·æ˜å¤©ç»§ç»­å……å€¼ï½","ä½ å·²ç»è¶…è¶Šå…¨å›½99%çš„ç­”é¢˜å°èƒ½æ‰‹ï¼Œç³»ç»ŸåŠä½ æ—©ç‚¹ä¼‘æ¯~","åˆ«æ€¥ï¼Œæ˜å¤©çš„å¥–åŠ±æ›´é¦™ï¼Œä»Šå¤©çš„ä½ åªé…æ‘¸é±¼ï¼","é¢˜ç›®å·²é˜µäº¡ï¼Œå“¥è¯·æ˜æ—¥å†æ¥æ”¶å‰²ï½","ä»Šæ—¥ç­”é¢˜é¢åº¦å·²ç”¨å…‰ï¼Œèµ¶ç´§å»å–æ¯å¥¶èŒ¶çŠ’åŠ³è‡ªå·±~","ç³»ç»Ÿæç¤ºï¼šç­”å¤ªå¤šä¼šç§ƒå¤´ï¼Œæ˜å¤©å†æ¥ä¸è¿Ÿ~","å“¥ï¼Œä¼‘æˆ˜å§ï¼ŒæœåŠ¡å™¨éƒ½ç´¯å¾—æ‰“å“ˆæ¬ äº†~","ä½ èµ¢äº†ï¼Œä½†ä»Šå¤©çš„é¢˜åº“å·²ç»Game Overï¼","å¥–åŠ±å°ä»“åº“æ»¡äº†ï¼Œæ˜å¤©ç»§ç»­è–…ç¾Šæ¯›ï¼"],randomMsg:""}},methods:{...X,async fetchQuestion(){try{const o=J();o.showLoading();const t=await w.get("/quiz/today");o.hideLoading(),this.question=t.data.data,this.questionText=this.question.question_text,this.questionA=this.question.option_a,this.questionB=this.question.option_b,this.questionC=this.question.option_c,this.questionD=this.question.option_d}catch(o){console.error("Error fetching question:",o)}},async cheekTodayQuizStatus(){try{const o=localStorage.getItem("Token"),t=J();t.showLoading();const s=await w.get("/quiz/todayStatus",{headers:{Token:o}});t.hideLoading(),this.isQuiz=s.data.data}catch(o){console.error("Error fetching question:",o)}},async submitAnswer(){if(!this.answer){this.$message.warning("è¯·é€‰æ‹©ä¸€ä¸ªç­”æ¡ˆ");return}const o=localStorage.getItem("Token"),t=this.answer,s=["QUIZ_4503","QUIZ_4504"];try{const i=await w.post("/quiz/answer",{token:o,userAnswer:t});if(s.includes(i.data.code)){this.$message.error(i.data.message);return}this.$message.success(i.data.data),setTimeout(()=>{window.location.reload()},1500)}catch(i){console.error("æäº¤ç­”æ¡ˆå¤±è´¥:",i),this.$message.error("æäº¤å¤±è´¥ï¼Œè¯·ç¨åå†è¯•")}},created(){this.randomMsg=this.messages[Math.floor(Math.random()*this.messages.length)]}},mounted(){this.checkTokenValidity(),this.fetchQuestion(),this.cheekTodayQuizStatus(),this.created()}},$o=Object.assign(Co,{setup(o){return(t,s)=>(r(),d("div",ho,[m(B),m(A),m(N),e("main",_o,[s[6]||(s[6]=e("section",{class:"welcome"},[e("h2",null,"æ¬¢è¿æ¥åˆ° FRP ç®¡ç†å¹³å°"),e("p",null,"åœ¨è¿™é‡Œä½ å¯ä»¥ç­”é¢˜è·å¾—é«˜é¢æµé‡ï¼Œç­”å¯¹ç­”é”™éƒ½æœ‰å¥–åŠ±ï¼")],-1)),e("section",fo,[e("div",go,[t.isQuiz?(r(),d("div",To,[s[4]||(s[4]=e("h1",{class:"Answered_h1"},"ä»Šæ—¥å·²ç­”é¢˜ ï¼",-1)),e("h3",So,a(t.randomMsg),1),s[5]||(s[5]=e("img",{class:"Emoticon",src:vo,alt:""},null,-1))])):(r(),d("div",yo,[s[3]||(s[3]=e("h3",{class:"fb1-h3"},"æ¯æ—¥ç­”é¢˜ï¼ˆè·å¾—æµé‡ï¼‰",-1)),e("p",bo,a(t.questionText),1),e("pre",ko,"Aã€"+a(t.questionA)+`
Bã€`+a(t.questionB)+`
Cã€`+a(t.questionC)+`
Dã€`+a(t.questionD)+`
              `,1),e("div",wo,[h(e("select",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.answer=i),name:"question",id:"question",class:"select-box"},s[2]||(s[2]=[q('<option value="" data-v-4252b189>è¯·é€‰æ‹©</option><option value="A" data-v-4252b189>A</option><option value="B" data-v-4252b189>B</option><option value="C" data-v-4252b189>C</option><option value="D" data-v-4252b189>D</option>',5)]),512),[[V,t.answer]]),e("button",{onClick:s[1]||(s[1]=(...i)=>t.submitAnswer&&t.submitAnswer(...i)),class:"primary-button"},"æäº¤")])]))])]),m(x)])]))}}),Ao=P($o,[["__scopeId","data-v-4252b189"]]),Po={class:"auth"},Io={class:"main-content"},Lo={class:"features"},Eo={key:0,class:"feature-box fb1"},Ro={class:"fb1_div"},Uo={key:1,class:"feature-box fb2"},xo={name:"auth",components:{Header:A,Sidebar:N,Footer:x},data(){return{name:"",idCard:"",realNameVerified:!1}},methods:{...X,handleSubmit(){const o="783aa29e972e4e409046fb80696048da",t="https://idcard.market.alicloudapi.com/lianzhuo/idcard",s={Authorization:"APPCODE "+o},i={cardno:this.idCard,name:this.name};w.get(t,{headers:s,params:i}).then(n=>{const l=n.data.resp.code;if(console.log(l),l===0){const v=localStorage.getItem("Token");w.post("/idcard",{token:v,real_name:this.name,idCard:this.idCard}).then(c=>{window.location.reload()}).catch(c=>{console.error(c)})}else l===5?this.$message.error("èº«ä»½ä¿¡æ¯ä¸åŒ¹é…ï¼Œè¯·é‡è¯•ï½"):l===14?this.$message.error("æ— æ­¤èº«ä»½è¯å·ç ï¼Œè¯·æ£€æŸ¥å¹¶é‡è¯•ï½"):l===96?this.$message.error("äº¤æ˜“å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ï½"):this.$message.error("èº«ä»½éªŒè¯å¤±è´¥ï¼ŒæœªçŸ¥é”™è¯¯ï½")}).catch(n=>{console.error(n),this.$message.error("èº«ä»½éªŒè¯å¤±è´¥ï¼Œè¯·é‡è¯•ï½"+n)})},real_name_status(){const o=localStorage.getItem("Token"),t=J();t.showLoading(),w.get("/idcard",{params:{token:o}}).then(s=>{t.hideLoading(),s.data.data===1?this.realNameVerified=!0:this.realNameVerified=!1}).catch(s=>{})}},mounted(){this.checkTokenValidity(),this.real_name_status()}},Mo=Object.assign(xo,{setup(o){return(t,s)=>(r(),d("div",Po,[m(B),m(A),m(N),e("main",Io,[s[9]||(s[9]=e("section",{class:"welcome"},[e("h2",null,"æ¬¢è¿æ¥åˆ° FRP ç®¡ç†å¹³å°"),e("p",null,"åœ¨è¿™é‡Œä½ å¯ä»¥å®åè®¤è¯ï¼Œç¡®ä¿æœåŠ¡çš„æ­£å¸¸ä½¿ç”¨å’Œè¿è¡Œ")],-1)),e("section",Lo,[t.realNameVerified?(r(),d("div",Uo,s[8]||(s[8]=[e("p",null,"å®åè®¤è¯å·²å®Œæˆï¼Œå¯æ­£å¸¸ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½ï¼",-1)]))):(r(),d("div",Eo,[s[7]||(s[7]=e("h3",{class:"fb1-h3"},"å®åè®¤è¯",-1)),e("div",Ro,[s[3]||(s[3]=e("p",{class:"top_p"},"èº«ä»½ä¿¡æ¯å°†è°ƒç”¨ç¬¬ä¸‰æ–¹APIéªŒè¯,åæœŸå¦‚å‘ç°åˆ©ç”¨æœ¬ç«™FrpæœåŠ¡ä»äº‹è¿æ³•è¿çºªæ´»åŠ¨,æœ¬ç«™æœ‰æƒå°†èº«ä»½ä¿¡æ¯äº¤ç”±è­¦æ–¹å¤„ç†ï¼",-1)),s[4]||(s[4]=e("p",{class:"top_p_2"},"æœ¬ç«™å…è®¸æœªæˆå¹´ç”¨æˆ·ä½¿ç”¨ï¼Œè¯·å‹¿ä½¿ç”¨ä»–äººèº«ä»½ä¿¡æ¯ï¼Œä»¥é¿å…ä¸å¿…è¦çš„éº»çƒ¦",-1)),s[5]||(s[5]=e("label",{for:"name"},"å§“å",-1)),h(e("input",{autocomplete:"off",class:"form-label",type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=i=>t.name=i),placeholder:"è¯·è¾“å…¥å§“å"},null,512),[[b,t.name]]),s[6]||(s[6]=e("label",{class:"cardid",for:"idCard"},"èº«ä»½è¯å·",-1)),h(e("input",{autocomplete:"off",class:"form-label",type:"text",id:"idCard","onUpdate:modelValue":s[1]||(s[1]=i=>t.idCard=i),placeholder:"è¯·è¾“å…¥èº«ä»½è¯å·"},null,512),[[b,t.idCard]]),e("button",{class:"submit-btn",onClick:s[2]||(s[2]=(...i)=>t.handleSubmit&&t.handleSubmit(...i))},"æäº¤")])]))]),m(x)])]))}}),Vo=P(Mo,[["__scopeId","data-v-4b8aedd3"]]),Oo={class:"tunnels"},Do={class:"main-content"},Ho={class:"tunnels2"},No={class:"feature-box"},Fo={class:"feature-title"},Bo={class:"feature-tags"},zo={class:"tag-green"},qo={class:"tag-red"},jo={class:"feature-middle"},Wo={class:"left"},Ko={key:0,class:"port"},Go={key:1,class:"domain"},Zo={key:2},Yo={class:"right"},Qo={key:0,class:"port"},Jo={key:1,class:"domain"},Xo={key:2},en={class:"feature-ip"},tn={class:"feature-footer"},sn=["onClick"],on=["onClick"],nn=["value"],ln=["value"],an={class:"port_div"},rn={class:"port"},dn={key:0,class:"port"},cn={key:1,class:"port"},un={key:2,class:"port"},mn={class:"button_div"},pn={name:"tunnels",components:{Header:A,Sidebar:N,Footer:x},data(){return{tunnels:[],tunnel_id:"",isEditBoxVisible:!1,selectedTunnel:{},selectedServer:"",servers:[],protocols:["TCP","UDP","HTTP","HTTPS","XTCP","STCP"],selectedProtocol:"",remote_port:"",custom_domain:"",secret_key:"",tunnel_name:"",local_ip:"",local_port:""}},methods:{...X,async getTunnels(){try{const o=localStorage.getItem("Token"),t=J();t.showLoading();const s=await w.get("/frp-tunnels",{headers:{Token:o}});t.hideLoading(),this.tunnels=s.data.data}catch(o){console.error(o)}},async openEditBox(o){this.isEditBoxVisible=!0;try{const t=await w.get("/servers");this.servers=t.data.data}catch(t){console.error("è·å–æœåŠ¡å™¨åˆ—è¡¨å¤±è´¥",t)}this.selectedServer=o.server_name,this.selectedProtocol=o.tunnel_type,this.tunnel_name=o.tunnel_name,this.local_ip=o.local_ip,this.local_port=o.local_port,this.tunnel_id=o.id,this.selectedProtocol==="HTTP"||this.selectedProtocol==="HTTPS"?this.custom_domain=o.custom_domain:this.selectedProtocol==="XTCP"||this.selectedProtocol==="STCP"?this.secret_key=o.secret_key:this.remote_port=o.remote_port},closeEditBox(){this.isEditBoxVisible=!1},save(o){const t=this.tunnel_id,s=localStorage.getItem("Token");let i={server_name:this.selectedServer,tunnel_name:this.tunnel_name,tunnel_type:this.selectedProtocol.toLowerCase(),local_ip:this.local_ip,local_port:this.local_port};this.selectedProtocol==="HTTP"||this.selectedProtocol==="HTTPS"?i.custom_domain=this.custom_domain:this.selectedProtocol==="XTCP"||this.selectedProtocol==="STCP"?i.secret_key=this.secret_key:i.remote_port=this.remote_port,w.put(`/frp-tunnels/${t}`,{token:s,frpTunnel:i}).then(n=>{this.$message.success(n.data.message),setTimeout(()=>{this.isEditBoxVisible=!1},1e3),setTimeout(()=>{this.getTunnels()},3e3)}).catch(n=>{console.error("æ›´æ–°éš§é“å¤±è´¥",n)})},deleteTunnel(o){const t=localStorage.getItem("Token");w.delete(`/frp-tunnels/${o.id}`,{data:{token:t}}).then(s=>{this.$message.success(s.data.message),setTimeout(()=>{this.getTunnels()},3e3)}).catch(s=>{var i;console.error("åˆ é™¤å¤±è´¥:",((i=s.response)==null?void 0:i.data)||s.message)})}},mounted(){this.checkTokenValidity(),this.getTunnels()}},vn=Object.assign(pn,{setup(o){return(t,s)=>(r(),d(I,null,[e("div",Oo,[m(B),m(A),m(N),e("main",Do,[s[12]||(s[12]=e("section",{class:"welcome"},[e("h2",null,"æ¬¢è¿æ¥åˆ° FRP ç®¡ç†å¹³å°"),e("p",null,"åœ¨è¿™é‡Œä½ å¯ä»¥ç®¡ç† FRP éš§é“ï¼Œå®ç°ç¼–è¾‘ã€åˆ é™¤ã€åœç”¨ç­‰æ“ä½œ")],-1)),e("ul",Ho,[(r(!0),d(I,null,U(t.tunnels,i=>(r(),d("li",{key:i.id,class:"tunnels-li"},[e("div",No,[e("h2",Fo,a(i.tunnel_name),1),e("div",Bo,[e("p",zo,a(i.tunnel_type),1),e("p",qo,a(i.server_name),1)]),e("div",jo,[e("div",Wo,[i.tunnel_type==="tcp"||i.tunnel_type==="udp"?(r(),d("p",Ko,"è¿œç¨‹ç«¯å£ï¼š")):C("",!0),i.tunnel_type==="http"||i.tunnel_type==="https"?(r(),d("p",Go,"åŸŸåï¼š")):C("",!0),i.tunnel_type==="xtcp"||i.tunnel_type==="stcp"?(r(),d("p",Zo,"å¯†é’¥ï¼š")):C("",!0)]),e("div",Yo,[i.tunnel_type==="tcp"||i.tunnel_type==="udp"?(r(),d("p",Qo,a(i.remote_port),1)):C("",!0),i.tunnel_type==="http"||i.tunnel_type==="https"?(r(),d("p",Jo,a(i.custom_domain),1)):C("",!0),i.tunnel_type==="xtcp"||i.tunnel_type==="stcp"?(r(),d("p",Xo,a(i.secret_key),1)):C("",!0)])]),e("p",en,"èŠ‚ç‚¹IPï¼š"+a(i.server_ip),1),e("div",tn,[e("button",{onClick:n=>t.openEditBox(i)},"ç¼–è¾‘",8,sn),e("button",{onClick:n=>t.deleteTunnel(i)},"åˆ é™¤",8,on)])])]))),128))]),m(x)])]),t.isEditBoxVisible?(r(),d("div",{key:0,class:"edit-box-overlay",onClick:s[11]||(s[11]=(...i)=>t.closeEditBox&&t.closeEditBox(...i))},[e("div",{class:"edit-box",onClick:s[10]||(s[10]=ue(()=>{},["stop"]))},[s[21]||(s[21]=e("h3",null,"ç¼–è¾‘éš§é“",-1)),e("form",null,[s[17]||(s[17]=e("label",{for:"Servers"},"æœåŠ¡å™¨",-1)),h(e("select",{name:"Servers",id:"Servers","onUpdate:modelValue":s[0]||(s[0]=i=>t.selectedServer=i)},[(r(!0),d(I,null,U(t.servers,i=>(r(),d("option",{key:i.id,value:i.name},a(i.name),9,nn))),128))],512),[[V,t.selectedServer]]),s[18]||(s[18]=e("label",{for:"tunnel-name"},"éš§é“åç§°",-1)),h(e("input",{autocomplete:"off",type:"text",id:"tunnel_name","onUpdate:modelValue":s[1]||(s[1]=i=>t.tunnel_name=i)},null,512),[[b,t.tunnel_name]]),s[19]||(s[19]=e("label",{for:"tunnel_setting"},"éš§é“è®¾ç½®",-1)),h(e("select",{name:"Protocol",id:"Protocol","onUpdate:modelValue":s[2]||(s[2]=i=>t.selectedProtocol=i)},[(r(!0),d(I,null,U(t.protocols,i=>(r(),d("option",{key:i,value:i},a(i),9,ln))),128))],512),[[V,t.selectedProtocol]]),s[20]||(s[20]=e("label",{for:"local_ip"},"å†…ç½‘IP",-1)),h(e("input",{autocomplete:"off",type:"text",id:"local_ip","onUpdate:modelValue":s[3]||(s[3]=i=>t.local_ip=i)},null,512),[[b,t.local_ip]]),e("div",an,[e("div",rn,[s[13]||(s[13]=e("label",{for:"local_port"},"å†…ç½‘ç«¯å£",-1)),h(e("input",{autocomplete:"off",type:"text",id:"local_port","onUpdate:modelValue":s[4]||(s[4]=i=>t.local_port=i)},null,512),[[b,t.local_port]])]),t.selectedProtocol==="TCP"||t.selectedProtocol==="UDP"?(r(),d("div",dn,[s[14]||(s[14]=e("label",{for:"remote-port",class:"form-label"},"è¿œç¨‹ç«¯å£",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"remote_port",name:"remote_port","onUpdate:modelValue":s[5]||(s[5]=i=>t.remote_port=i),placeholder:""},null,512),[[b,t.remote_port]])])):C("",!0),t.selectedProtocol==="HTTP"||t.selectedProtocol==="HTTPS"?(r(),d("div",cn,[s[15]||(s[15]=e("label",{for:"custom-domains",class:"form-label"},"è‡ªå®šä¹‰åŸŸå",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"custom_domains",name:"custom_domains","onUpdate:modelValue":s[6]||(s[6]=i=>t.custom_domain=i),placeholder:""},null,512),[[b,t.custom_domain]])])):C("",!0),t.selectedProtocol==="XTCP"||t.selectedProtocol==="STCP"?(r(),d("div",un,[s[16]||(s[16]=e("label",{for:"secret-key",class:"form-label"},"å¯†é’¥",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"secret_key",name:"secret_key","onUpdate:modelValue":s[7]||(s[7]=i=>t.secret_key=i),placeholder:""},null,512),[[b,t.secret_key]])])):C("",!0)]),e("div",mn,[e("button",{type:"button",onClick:s[8]||(s[8]=(...i)=>t.save&&t.save(...i))},"ä¿å­˜"),e("button",{type:"button",onClick:s[9]||(s[9]=(...i)=>t.closeEditBox&&t.closeEditBox(...i))},"å–æ¶ˆ")])])])])):C("",!0)],64))}}),hn=P(vn,[["__scopeId","data-v-57aafa2f"]]),_n={class:"add_tunnels"},fn={class:"main-content"},gn={class:"add-tunnel"},yn={class:"form-group"},bn=["value"],kn={class:"big"},wn={class:"ServerInfo"},Tn={class:"content"},Sn={class:"content"},Cn={class:"content"},$n={class:"content"},An={class:"content"},Pn={class:"content"},In={class:"content"},Ln={class:"form-group fg1"},En={class:"form-group-div-01"},Rn={class:"form-group-div-02"},Un={class:"settings"},xn=["onClick"],Mn={class:"form-group"},Vn={class:"form-group"},On={key:0,class:"form-group"},Dn={key:1,class:"form-group"},Hn={key:2,class:"form-group"},Nn={name:"add_tunnels",components:{Header:A,Sidebar:N,Footer:x},data(){return{protocols:["TCP","UDP","HTTP","HTTPS","XTCP","STCP"],selectedProtocol:"TCP",lists:[],selectedServer:"",tunnelName:"",localIP:"127.0.0.1",localPorts:"",remotePort:"",custom_domain:"",secret_key:"",vipOnly:!0,allowWebsite:!0,allowHighTraffic:!0,allowUdp:!0,status:!0,vip:"vip",no_vip:"é€šç”¨èŠ‚ç‚¹",web:"ç½‘ç«™éƒ¨ç½²",traffic:"è¶…å¤§æµé‡",udp:"UDP",s_status:"ONLINE",server_name:"",server_Info:"",server_ip:"",server_domain:"",server_portRange:"",server_current_clients:"",server_max_clients:"",server_current_tunnels:""}},methods:{...X,selectProtocol(o){this.selectedProtocol=o},async ServersList(){try{const o=J();o.showLoading();const t=await w.get("/servers");o.hideLoading(),this.lists=t.data.data,this.selectedServer=this.lists[0].name,this.lists.forEach(s=>{s.name===this.selectedServer&&(this.vipOnly=s.vipOnly,this.allowWebsite=s.allowWebsite,this.allowHighTraffic=s.allowHighTraffic,this.allowUdp=s.allowUdp,this.server_name=s.name,this.server_Info=s.info,this.server_ip=s.ip_address,this.server_domain=s.domain,this.server_portRange=s.port_range,this.status=s.status==="ONLINE",this.s_status=s.status,this.server_current_clients=s.current_clients,this.server_max_clients=s.max_clients,this.server_current_tunnels=s.current_tunnels)})}catch(o){console.error(o)}},async SubmitTunnel(){try{const o=localStorage.getItem("Token");let t={server_name:this.selectedServer,tunnel_name:this.tunnelName,tunnel_type:this.selectedProtocol.toLowerCase(),local_ip:this.localIP,local_port:this.localPorts};this.selectedProtocol==="HTTP"||this.selectedProtocol==="HTTPS"?t.custom_domain=this.custom_domain:this.selectedProtocol==="XTCP"||this.selectedProtocol==="STCP"?t.secret_key=this.secret_key:t.remote_port=this.remotePort;const s=await w.post("/users/info",{token:o});if(s.data.data.real_name_status!==1){this.$message.error("è¯·å®åè®¤è¯åå†è¿›è¡Œéš§é“åˆ›å»ºï¼");return}if(s.data.data.status==="OFFLINE"){this.$message.error("æœåŠ¡å™¨ç¦»çº¿ï¼");return}if((s.data.data.vip_status===0||s.data.data.vip_status===2)&&this.selectedServer){const n=this.selectedServer,l=this.lists.find(v=>v.name===n);if(l&&l.vipOnly){this.$message.warning("è¯¥èŠ‚ç‚¹ä¸ºVIPä¸“å±èŠ‚ç‚¹ï¼Œä¸ºäº†VIPç”¨æˆ·çš„ä½“éªŒï¼Œè¯·æ‚¨æ›´æ¢ä¸ºå…è´¹é€šç”¨èŠ‚ç‚¹ï¼Œè°¢è°¢æ‚¨çš„ç†è§£ä¸é…åˆï¼");return}}if(this.selectedServer&&!this.allowWebsite&&(this.selectedProtocol==="HTTP"||this.selectedProtocol==="HTTPS")){this.$message.error("è¯¥èŠ‚ç‚¹ä¸å…è®¸å»ºç«™ï¼Œè¯·æ›´æ¢å…¶ä»–èŠ‚ç‚¹");return}if(this.selectedServer&&!this.allowUdp&&this.selectedProtocol==="UDP"){this.$message.error("è¯¥èŠ‚ç‚¹ä¸å…è®¸UDPï¼Œè¯·æ›´æ¢å…¶ä»–èŠ‚ç‚¹");return}const i=await w.post("/frp-tunnels",t,{headers:{Token:o}});this.$message.success(i.data.message)}catch(o){console.error(o),this.$message.error("æäº¤éš§é“å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}},handleServerChange(){this.lists.forEach(o=>{o.name===this.selectedServer&&(this.vipOnly=o.vipOnly,this.allowWebsite=o.allowWebsite,this.allowHighTraffic=o.allowHighTraffic,this.allowUdp=o.allowUdp,this.server_name=o.name,this.server_Info=o.info,this.server_ip=o.ip_address,this.server_domain=o.domain,this.server_portRange=o.port_range,this.status=o.status==="ONLINE",this.s_status=o.status,this.server_current_clients=o.current_clients,this.server_max_clients=o.max_clients,this.server_current_tunnels=o.current_tunnels)})},handleCloseMessageBox(){this.showMessageBox=!1},autoCloseMessageBox(){setTimeout(()=>{this.showMessageBox=!1},3e3)}},computed:{vipClass(){return this.vipOnly?"golden":"green"},websiteClass(){return this.allowWebsite?"green":"red"},trafficClass(){return this.allowHighTraffic?"green":"red"},udpClass(){return this.allowUdp?"green":"red"},statusClass(){return this.status?"green":"red"}},mounted(){this.checkTokenValidity(),this.ServersList()}},Fn=Object.assign(Nn,{setup(o){return(t,s)=>(r(),d("div",_n,[m(B),m(A),m(N),e("main",fn,[s[28]||(s[28]=e("section",{class:"welcome"},[e("h2",null,"æ¬¢è¿æ¥åˆ° FRP ç®¡ç†å¹³å°"),e("p",null,"åœ¨è¿™é‡Œä½ å¯ä»¥åˆ›å»º FRP éš§é“ï¼Œå„ç§éš§é“çš†å¯åˆ›å»º")],-1)),e("section",gn,[s[27]||(s[27]=e("h1",null,"æ·»åŠ éš§é“",-1)),e("form",{onSubmit:s[9]||(s[9]=ue((...i)=>t.handleSubmit&&t.handleSubmit(...i),["prevent"]))},[e("div",yn,[s[18]||(s[18]=e("label",{for:"server",class:"form-label"},"é€‰æ‹©æœåŠ¡å™¨",-1)),h(e("select",{class:"border-color",id:"server",name:"server","onUpdate:modelValue":s[0]||(s[0]=i=>t.selectedServer=i),onChange:s[1]||(s[1]=(...i)=>t.handleServerChange&&t.handleServerChange(...i))},[(r(!0),d(I,null,U(t.lists,i=>(r(),d("option",{key:i.id,value:i.name},a(i.name),9,bn))),128))],544),[[V,t.selectedServer]]),e("div",kn,[t.vipOnly?(r(),d("div",{key:0,class:L(["vip",t.vipClass])},a(t.vip),3)):(r(),d("div",{key:1,class:L(["vip",t.vipClass])},a(t.no_vip),3)),e("div",{class:L(["udp",t.udpClass])},a(t.udp),3),e("div",{class:L(["website",t.websiteClass])},a(t.web),3),e("div",{class:L(["traffic",t.trafficClass])},a(t.traffic),3),e("div",{class:L(["status",t.statusClass])},a(t.s_status),3)]),s[19]||(s[19]=q('<div class="tips" data-v-c6803085><div class="tip_1" data-v-c6803085><div class="one" data-v-c6803085></div><p class="tips_p" data-v-c6803085>vipç”¨æˆ·ä¸“ç”¨èŠ‚ç‚¹</p></div><div class="tip_2" data-v-c6803085><div class="two" data-v-c6803085></div><p class="tips_p" data-v-c6803085>é€šç”¨èŠ‚ç‚¹ã€æœåŠ¡å™¨åœ¨çº¿ã€å…è®¸çš„æœåŠ¡</p></div><div class="tip_3" data-v-c6803085><div class="three" data-v-c6803085></div><p class="tips_p" data-v-c6803085>æœåŠ¡å™¨ç¦»çº¿ã€ä¸å…è®¸çš„æœåŠ¡</p></div></div>',1)),e("div",wn,[s[17]||(s[17]=e("p",{class:"title"},"æœåŠ¡å™¨ä¿¡æ¯ï¼š",-1)),e("p",Tn,[s[10]||(s[10]=e("b",{class:"left"},"æœåŠ¡å™¨åï¼š",-1)),E(a(t.server_name),1)]),e("p",Sn,[s[11]||(s[11]=e("b",{class:"left"},"æœåŠ¡å™¨ç®€ä»‹ï¼š",-1)),E(a(t.server_Info),1)]),e("p",Cn,[s[12]||(s[12]=e("b",{class:"left"},"æœåŠ¡å™¨IPï¼š",-1)),E(a(t.server_ip),1)]),e("p",$n,[s[13]||(s[13]=e("b",{class:"left"},"æœåŠ¡å™¨åŸŸåï¼š",-1)),E(a(t.server_domain),1)]),e("p",An,[s[14]||(s[14]=e("b",{class:"left"},"æœåŠ¡å™¨ç”¨æˆ·æ•°é‡ï¼š",-1)),E(a(t.server_current_clients)+" / "+a(t.server_max_clients)+" äºº ",1)]),e("p",Pn,[s[15]||(s[15]=e("b",{class:"left"},"å½“å‰éš§é“æ•°é‡ï¼š",-1)),E(a(t.server_current_tunnels)+" æ¡",1)]),e("p",In,[s[16]||(s[16]=e("b",{class:"left"},"å¯ç”¨ç«¯å£èŒƒå›´ï¼š",-1)),E(a(t.server_portRange),1)])])]),e("div",Ln,[e("div",En,[s[20]||(s[20]=e("label",{for:"tunnel-name",class:"form-label"},"éš§é“å",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"tunnel-name",name:"tunnel-name","onUpdate:modelValue":s[2]||(s[2]=i=>t.tunnelName=i),placeholder:"éš§é“å"},null,512),[[b,t.tunnelName]])]),e("div",Rn,[s[21]||(s[21]=e("label",{class:"form-label"},"éš§é“è®¾ç½®",-1)),e("div",Un,[(r(!0),d(I,null,U(t.protocols,i=>(r(),d("button",{key:i,class:L(["select-button",{active:t.selectedProtocol===i}]),onClick:n=>t.selectProtocol(i)},a(i),11,xn))),128))])])]),e("div",Mn,[s[22]||(s[22]=e("label",{for:"local-ip",class:"form-label"},"å†…ç½‘IP",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"local-ip",name:"local-ip","onUpdate:modelValue":s[3]||(s[3]=i=>t.localIP=i),value:"127.0.0.1",placeholder:"127.0.0.1"},null,512),[[b,t.localIP]])]),e("div",Vn,[s[23]||(s[23]=e("label",{for:"local-ports",class:"form-label"},"å†…ç½‘ç«¯å£",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"local-ports",name:"local-ports","onUpdate:modelValue":s[4]||(s[4]=i=>t.localPorts=i),placeholder:"TCP:21  SSH:22  MySql:3306  MC:25565/19132  Terraria:7777"},null,512),[[b,t.localPorts]])]),t.selectedProtocol==="TCP"||t.selectedProtocol==="UDP"?(r(),d("div",On,[s[24]||(s[24]=e("label",{for:"remote-port",class:"form-label"},"è¿œç¨‹ç«¯å£",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"remote-port",name:"remote-port","onUpdate:modelValue":s[5]||(s[5]=i=>t.remotePort=i),placeholder:"æ˜ å°„åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ç«¯å£"},null,512),[[b,t.remotePort]])])):C("",!0),t.selectedProtocol==="HTTP"||t.selectedProtocol==="HTTPS"?(r(),d("div",Dn,[s[25]||(s[25]=e("label",{for:"custom-domains",class:"form-label"},"è‡ªå®šä¹‰åŸŸå",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"custom-domains",name:"custom-domains","onUpdate:modelValue":s[6]||(s[6]=i=>t.custom_domain=i),placeholder:"è¾“å…¥è‡ªå®šä¹‰åŸŸå"},null,512),[[b,t.custom_domain]])])):C("",!0),t.selectedProtocol==="XTCP"||t.selectedProtocol==="STCP"?(r(),d("div",Hn,[s[26]||(s[26]=e("label",{for:"secret-key",class:"form-label"},"å¯†é’¥",-1)),h(e("input",{autocomplete:"off",class:"border-color",type:"text",id:"secret-key",name:"secret-key","onUpdate:modelValue":s[7]||(s[7]=i=>t.secret_key=i),placeholder:"è¾“å…¥å¯†é’¥"},null,512),[[b,t.secret_key]])])):C("",!0),e("button",{class:"button",type:"submit",onClick:s[8]||(s[8]=(...i)=>t.SubmitTunnel&&t.SubmitTunnel(...i))},"åˆ›å»º")],32)]),m(x)])]))}}),Bn=P(Fn,[["__scopeId","data-v-c6803085"]]),zn={class:"conf"},qn={class:"main-content"},jn={class:"config-section"},Wn=["value"],Kn={class:"config-code",rows:"20",cols:"100"},Gn={name:"conf",components:{Header:A,Sidebar:N,Footer:x},data(){return{servers:[],selectedServer:"",configData:[],configFile:"",server_addr:"",server_port:"",userKey:"",server_ip:"",server_port:"",userInfo:[]}},methods:{...X,async getServers(){try{const o=localStorage.getItem("Token"),t=J();t.showLoading();const s=await w.get("/servers");t.hideLoading(),this.servers=s.data.data,this.servers.length>0&&(this.selectedServer=this.servers[0].name,this.fetchConfig())}catch(o){console.error(o)}},async getUserInfo(){try{const o=localStorage.getItem("Token"),t=await w.post("/users/info",{token:o});this.userInfo=t.data.data,this.userKey=this.userInfo.user_key}catch{}},async fetchConfig(){try{const o=localStorage.getItem("Token"),t=await w.get(`/frp-tunnels/by-server?server_name=${this.selectedServer}`,{headers:{Token:o}});this.configData=t.data.data,this.generateConfigFile()}catch(o){console.error("è·å–é…ç½®å¤±è´¥:",o)}},generateConfigFile(){this.servers.forEach(t=>{if(t.name===this.selectedServer){this.server_ip=t.ip_address,this.server_port=t.port;return}});let o=`serverAddr = "${this.server_ip}"
`;o+=`serverPort = ${this.server_port}
`,o+=`userKey = "${this.userKey}"

`,this.configData&&this.configData.length>0&&this.configData.forEach(t=>{o+=`[[proxies]]
`,o+=`name = "${t.tunnel_name}"
`,o+=`type = "${t.tunnel_type.toLowerCase()}"
`,o+=`localIP = "${t.local_ip}"
`,o+=`localPort = ${t.local_port}
`,t.tunnel_type.toLowerCase()==="tcp"||t.tunnel_type.toLowerCase()==="udp"?o+=`remotePort = ${t.remote_port}

`:t.tunnel_type.toLowerCase()==="http"||t.tunnel_type.toLowerCase()==="https"?o+=`customDomains = ["${t.custom_domain}"]

`:(t.tunnel_type.toLowerCase()==="stcp"||t.tunnel_type.toLowerCase()==="xtcp")&&(o+=`secretKey = "${t.secret_key}"

`)}),this.configFile=o},copy_button(){const o=document.createElement("textarea");o.value=this.configFile,document.body.appendChild(o),o.select(),o.setSelectionRange(0,99999),navigator.clipboard.writeText(o.value).then(()=>{this.$message.success("å¤åˆ¶æˆåŠŸï¼")}).catch(t=>{console.error("å¤åˆ¶å¤±è´¥:",t),this.$message.error("å¤åˆ¶å¤±è´¥ï¼Œè¯·é‡è¯•")}),document.body.removeChild(o)}},mounted(){this.checkTokenValidity(),this.getServers(),this.getUserInfo()},watch:{selectedServer(o){o&&this.fetchConfig()}}},Zn=Object.assign(Gn,{setup(o){return(t,s)=>(r(),d("div",zn,[m(B),m(A),m(N),e("main",qn,[s[5]||(s[5]=e("section",{class:"welcome"},[e("h2",null,"æ¬¢è¿æ¥åˆ° FRP ç®¡ç†å¹³å°"),e("p",null,"åœ¨è¿™é‡Œä½ å¯ä»¥å¤åˆ¶ä½ åˆ›å»ºçš„éš§é“æ‰€ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ï¼Œä»¥ä¾›åœ¨å®¢æˆ·ç«¯ä½¿ç”¨")],-1)),e("section",jn,[s[3]||(s[3]=e("h2",{class:"conf-h2"},"éš§é“é…ç½®",-1)),s[4]||(s[4]=e("div",{class:"tabs"},[e("button",{class:"tabs-btn active"},"æŒ‰èŠ‚ç‚¹"),e("button",{class:"tabs-btn"},"æŒ‰éš§é“")],-1)),h(e("select",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.selectedServer=i),onChange:s[1]||(s[1]=(...i)=>t.fetchConfig&&t.fetchConfig(...i)),id:"select-server"},[(r(!0),d(I,null,U(t.servers,i=>(r(),d("option",{key:i.id,value:i.name},a(i.name),9,Wn))),128))],544),[[V,t.selectedServer]]),e("pre",Kn,""+a(t.configFile)+`
         `,1),e("button",{onClick:s[2]||(s[2]=(...i)=>t.copy_button&&t.copy_button(...i)),class:"copy"},"å¤åˆ¶")]),m(x)])]))}}),Yn=P(Zn,[["__scopeId","data-v-bdfe8985"]]),Qn={class:"app"},Jn={class:"main-content"},Xn={class:"features"},ei={class:"feature-box fb1"},ti={class:"version-description"},si=["href"],oi={class:"version-description"},ni=["href"],ii={class:"feature-box fb2"},li={class:"version-description"},ai=["href"],ri={class:"version-description"},di=["href"],ci={class:"feature-box fb3"},ui={class:"version-description"},mi=["href"],pi={class:"version-description"},vi=["href"],hi={name:"app",components:{Header:A,Sidebar:N,Footer:x},data(){return{BASE_URL:"https://gh.llkk.cc/https://github.com/Jieonix/ZyroFrp_App/releases/download/v1.0.0"}},methods:{...X},mounted(){this.checkTokenValidity()}},_i=Object.assign(hi,{setup(o){return(t,s)=>(r(),d("div",Qn,[m(B),m(A),m(N),e("main",Jn,[s[9]||(s[9]=e("section",{class:"welcome"},[e("h2",null,"æ¬¢è¿æ¥åˆ° FRP ç®¡ç†å¹³å°"),e("p",null,"åœ¨è¿™é‡Œä½ å¯ä»¥ä¸‹è½½ FRPC å®¢æˆ·ç«¯ï¼Œä»¥ä½¿ç”¨æœ¬æœåŠ¡")],-1)),e("section",Xn,[e("div",ei,[s[2]||(s[2]=e("h2",null,"MacOS",-1)),e("div",ti,[e("a",{class:"version",href:`${t.BASE_URL}/frpc-macos-amd64.tar.gz`}," ZyroFrp_darwin_amd64 ",8,si),s[0]||(s[0]=e("p",{class:"description"},"é€‚ç”¨äº MacOS AMD64 ç‰ˆæœ¬",-1))]),e("div",oi,[e("a",{class:"version",href:`${t.BASE_URL}/frpc-macos-arm64.tar.gz`}," ZyroFrp_darwin_arm64 ",8,ni),s[1]||(s[1]=e("p",{class:"description"},"é€‚ç”¨äº MacOS ARM64 ç‰ˆæœ¬",-1))])]),e("div",ii,[s[5]||(s[5]=e("h2",null,"Linux",-1)),e("div",li,[e("a",{class:"version",href:`${t.BASE_URL}/frpc-linux-amd64.tar.gz`}," ZyroFrp_linux_amd64 ",8,ai),s[3]||(s[3]=e("p",{class:"description"},"é€‚ç”¨äº Linux AMD64 ç‰ˆæœ¬",-1))]),e("div",ri,[e("a",{class:"version",href:`${t.BASE_URL}/frpc-linux-arm64.tar.gz`}," ZyroFrp_linux_arm64 ",8,di),s[4]||(s[4]=e("p",{class:"description"},"é€‚ç”¨äº Linux ARM64 ç‰ˆæœ¬",-1))])]),e("div",ci,[s[8]||(s[8]=e("h2",null,"Windows",-1)),e("div",ui,[e("a",{class:"version",href:`${t.BASE_URL}/frpc-windows-amd64.tar.gz`}," ZyroFrp_win_amd64 ",8,mi),s[6]||(s[6]=e("p",{class:"description"},"é€‚ç”¨äº Windows AMD64 ç‰ˆæœ¬",-1))]),e("div",pi,[e("a",{class:"version",href:`${t.BASE_URL}/frpc-windows-arm64.tar.gz`}," ZyroFrp_win_arm64 ",8,vi),s[7]||(s[7]=e("p",{class:"description"},"é€‚ç”¨äº Windows ARM64 ä½ç‰ˆæœ¬",-1))])])]),m(x)])]))}}),fi=P(_i,[["__scopeId","data-v-35a7cf47"]]),gi={class:"auth"},yi={class:"main-content"},bi={class:"features"},ki={class:"feature-box fb1"},wi={class:"line"},Ti={class:"dowm"},Si={class:"line"},Ci={class:"dowm"},$i={class:"line"},Ai={class:"dowm"},Pi={class:"line"},Ii={class:"dowm"},Li={name:"auth",components:{Header:A,Sidebar:N,Footer:x},methods:{...X},mounted(){this.checkTokenValidity()}},Ei=Object.assign(Li,{setup(o){return(t,s)=>{const i=k("SvgIcon");return r(),d("div",gi,[m(B),m(A),m(N),e("main",yi,[s[8]||(s[8]=e("section",{class:"welcome"},[e("h2",null,"æ¬¢è¿æ¥åˆ° FRP ç®¡ç†å¹³å°"),e("p",null,"åœ¨è¿™é‡Œä½ å¯ä»¥æŸ¥çœ‹ FRPC å®¢æˆ·ç«¯ä½¿ç”¨æ•™ç¨‹")],-1)),e("section",bi,[e("div",ki,[s[4]||(s[4]=e("div",{class:"h3"},[e("h3",null,"ä½¿ç”¨å¸®åŠ©")],-1)),e("div",wi,[e("strong",Ti,[m(i,{name:"Confirm",class:"icon"})]),s[0]||(s[0]=e("p",{class:"tooltip"},[e("strong",null,"åˆ›å»ºéš§é“")],-1))]),s[5]||(s[5]=e("div",{class:"arrow"}," | ",-1)),e("div",Si,[e("strong",Ci,[m(i,{name:"Confirm",class:"icon"})]),s[1]||(s[1]=e("p",{class:"tooltip"},[e("strong",null,"è½¯ä»¶ä¸‹è½½")],-1))]),s[6]||(s[6]=e("div",{class:"arrow"}," | ",-1)),e("div",$i,[e("strong",Ai,[m(i,{name:"Confirm",class:"icon"})]),s[2]||(s[2]=e("p",{class:"tooltip"},[e("strong",null,"å¯åŠ¨éš§é“")],-1))]),s[7]||(s[7]=e("div",{class:"arrow"}," | ",-1)),e("div",Pi,[e("strong",Ii,[m(i,{name:"Confirm2",class:"icon2"})]),s[3]||(s[3]=e("p",{class:"tooltip"},[e("strong",null,"å¼€å§‹ä½¿ç”¨")],-1))])])]),m(x)])])}}}),Ri=P(Ei,[["__scopeId","data-v-594d73ed"]]),D={NETWORK:"NETWORK",VALIDATION:"VALIDATION",AUTHENTICATION:"AUTHENTICATION",AUTHORIZATION:"AUTHORIZATION",SERVER:"SERVER",BUSINESS:"BUSINESS",UNKNOWN:"UNKNOWN"},Z={INFO:"INFO",WARN:"WARN",ERROR:"ERROR",FATAL:"FATAL"};class Ui{constructor(){this.errorMessages={[D.NETWORK]:"ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®",[D.VALIDATION]:"è¾“å…¥æ•°æ®éªŒè¯å¤±è´¥",[D.AUTHENTICATION]:"èº«ä»½éªŒè¯å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•",[D.AUTHORIZATION]:"æƒé™ä¸è¶³ï¼Œæ— æ³•æ‰§è¡Œæ­¤æ“ä½œ",[D.SERVER]:"æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•",[D.BUSINESS]:"ä¸šåŠ¡é€»è¾‘é”™è¯¯",[D.UNKNOWN]:"æœªçŸ¥é”™è¯¯ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒ"}}analyzeErrorType(t){if(!t.response)return D.NETWORK;const s=t.response.status;return s===401?D.AUTHENTICATION:s===403?D.AUTHORIZATION:s>=400&&s<500?D.BUSINESS:s>=500?D.SERVER:D.UNKNOWN}analyzeErrorLevel(t){switch(this.analyzeErrorType(t)){case D.NETWORK:case D.SERVER:return Z.ERROR;case D.AUTHENTICATION:case D.AUTHORIZATION:return Z.WARN;case D.BUSINESS:return Z.INFO;default:return Z.ERROR}}getUserFriendlyMessage(t,s=null){var n,l,v,c;if((l=(n=t.response)==null?void 0:n.data)!=null&&l.message)return t.response.data.message;if((c=(v=t.response)==null?void 0:v.data)!=null&&c.error)return t.response.data.error;if(s)return s;const i=this.analyzeErrorType(t);return this.errorMessages[i]}logError(t,s="",i=null){var _,p;const n=i||this.analyzeErrorLevel(t),l=this.analyzeErrorType(t),c={timestamp:new Date().toISOString(),level:n,type:l,context:s,message:t.message,status:(_=t.response)==null?void 0:_.status,data:(p=t.response)==null?void 0:p.data,stack:t.stack};switch(n){case Z.FATAL:case Z.ERROR:console.error(`[${n}] ${s}:`,c);break;case Z.WARN:console.warn(`[${n}] ${s}:`,c);break;case Z.INFO:console.info(`[${n}] ${s}:`,c);break;default:console.log(`[${n}] ${s}:`,c)}}showErrorToUser(t,s=null,i=null){const n=this.getUserFriendlyMessage(t,i);s&&typeof s=="function"?s(n):alert(n)}handle(t,s={}){const{context:i="",showMessage:n=null,defaultMessage:l=null,log:v=!0,logLevel:c=null,onAuthError:_=null,onNetworkError:p=null}=s,u=this.analyzeErrorType(t);return v&&this.logError(t,i,c),n&&this.showErrorToUser(t,n,l),u===D.AUTHENTICATION&&_?_(t):u===D.NETWORK&&p&&p(t),{handled:!0,type:u,level:this.analyzeErrorLevel(t),message:this.getUserFriendlyMessage(t,l)}}}const xi=new Ui,Mi=(o,t={})=>xi.handle(o,t),Vi=(o,t={})=>(s,i={})=>Mi(s,{...t,...i,context:o||i.context||""}),Oi={class:"flex-container"},Di={class:"login-container"},Hi=["placeholder"],Ni=["placeholder"],Fi=["disabled"],Bi={class:"dynamic-content"},zi={key:1},qi={__name:"UniversalLogin",props:{type:{type:String,required:!0,validator:o=>["user","admin"].includes(o)}},setup(o,{expose:t}){const s=o,{proxy:i}=ge(),n=M(""),l=M(""),v=M(!1),c=K(()=>s.type==="admin"?{type:"admin",title:"ç®¡ç†å‘˜ç™»å½•",emailPlaceholder:"ç®¡ç†å‘˜é‚®ç®±",passwordPlaceholder:"ç®¡ç†å‘˜å¯†ç ",loginButtonText:"ç®¡ç†å‘˜ç™»å½•",apiEndpoint:"/auth/admin_login",tokenKey:"AdminToken",errorCodes:["LOGIN_4101","LOGIN_4102","LOGIN_4103","LOGIN_4104"],successRoute:"Dashboard"}:{type:"user",title:"ç”¨æˆ·ç™»å½•",emailPlaceholder:"é‚®ç®±",passwordPlaceholder:"å¯†ç ",loginButtonText:"ç™»å½•",apiEndpoint:"/auth/login",tokenKey:"Token",errorCodes:["LOGIN_4101","LOGIN_4102","LOGIN_4103"],successRoute:"UserDashboard"}),_=Vi(`${c.value.title}ç™»å½•`,{showMessage:f=>i.$message.error(f),onAuthError:()=>{localStorage.removeItem(c.value.tokenKey),G.currentRoute.value.name!=="Login"&&G.currentRoute.value.name!=="Admin_Login"&&G.push({name:s.type==="admin"?"Admin_Login":"Login"})}}),p=async()=>{if(re(n)){if(!l.value.trim()){i.$message.error("è¯·è¾“å…¥å¯†ç ");return}v.value=!0;try{const f=await w.post(c.value.apiEndpoint,{email:n.value,password:l.value});if(c.value.errorCodes.includes(f.data.code)){i.$message.error(f.data.message);return}localStorage.setItem(c.value.tokenKey,f.data.data),de.start();const y=s.type==="admin"?"ç®¡ç†å‘˜":"ç”¨æˆ·";i.$message.success(`${y}ç™»å½•æˆåŠŸ`),setTimeout(()=>{G.push({name:c.value.successRoute})},100)}catch(f){_.handle(f,{context:`${c.value.title}è¯·æ±‚å¤±è´¥`,defaultMessage:"ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–è”ç³»æŠ€æœ¯æ”¯æŒ"})}finally{v.value=!1}}},u=()=>{n.value="",l.value="",v.value=!1};return We(()=>{u()}),t({resetForm:u,handleLogin:p}),(f,y)=>{const F=k("router-link");return r(),d(I,null,[m(A),e("div",Oi,[e("div",Di,[e("h2",null,a(c.value.title),1),h(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=O=>n.value=O),placeholder:c.value.emailPlaceholder,onKeyup:be(p,["enter"])},null,40,Hi),[[b,n.value]]),h(e("input",{type:"password","onUpdate:modelValue":y[1]||(y[1]=O=>l.value=O),placeholder:c.value.passwordPlaceholder,onKeyup:be(p,["enter"])},null,40,Ni),[[b,l.value]]),e("button",{class:"btn btn-primary btn-full-width",onClick:p,disabled:v.value},a(v.value?"ç™»å½•ä¸­...":c.value.loginButtonText),9,Fi),e("div",Bi,[c.value.type==="user"?(r(),d(I,{key:0},[e("p",null,[m(F,{to:{name:"ResetPassword"}},{default:Q(()=>y[2]||(y[2]=[E("å¿˜è®°å¯†ç ?")])),_:1})]),e("p",null,[y[4]||(y[4]=E("è¿˜æ²¡æœ‰è´¦å·? ")),m(F,{to:{name:"Register"}},{default:Q(()=>y[3]||(y[3]=[E("æ³¨å†Œ")])),_:1})])],64)):c.value.type==="admin"?(r(),d("p",zi,"ä»…ç®¡ç†å‘˜å¸å·å¯ç™»å½•")):C("",!0)])])])],64)}}},Me=P(qi,[["__scopeId","data-v-56fede1e"]]),ji={__name:"Login",setup(o){return(t,s)=>(r(),te(Me,{type:"user"}))}},Wi={class:"flex-container"},Ki={class:"login-container"},Gi={class:"code-container"},Zi=["disabled"],Yi={__name:"Register",setup(o){const{proxy:t}=ge(),s=M(""),i=M(""),n=M(""),l=M(!1),v=M(60),c=M(!1),_=["REGISTER_4001","REGISTER_4002","REGISTER_4003","REGISTER_4004","REGISTER_4005","REGISTER_4006","EMAIL_SEND_4301"],p=async()=>{if(re(s)&&!(l.value||c.value)){c.value=!0;try{const f=await w.post("/emails/send-verification",{toEmail:s.value,type:"REGISTER"});if(_.includes(f.data.code)){t.$message.error(f.data.message);return}l.value=!0;let y=v.value;const F=setInterval(()=>{y--,v.value=y,y<=0&&(clearInterval(F),l.value=!1,v.value=60)},1e3)}catch(f){t.$message.error("éªŒè¯ç å‘é€å¤±è´¥ï¼š"+f)}finally{c.value=!1}}},u=async()=>{if(re(s)&&Ee(n)&&Re(i))try{const f=await w.post("/auth/register",{email:s.value,password:n.value,emailCode:i.value});if(_.includes(f.data.code)){t.$message.error(f.data.message);return}t.$message.success("æ³¨å†ŒæˆåŠŸ,è¯·ç™»å½•..."),setTimeout(()=>{G.push({name:"Login"})},100)}catch(f){console.error("æ³¨å†Œå¤±è´¥ï¼š",f)}};return(f,y)=>{const F=k("router-link");return r(),d(I,null,[m(A),e("div",Wi,[e("div",Ki,[y[5]||(y[5]=e("h2",null,"æ³¨å†Œ",-1)),h(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=O=>s.value=O),placeholder:"é‚®ç®±"},null,512),[[b,s.value]]),e("div",Gi,[h(e("input",{type:"text","onUpdate:modelValue":y[1]||(y[1]=O=>i.value=O),placeholder:"éªŒè¯ç "},null,512),[[b,i.value]]),e("button",{class:"code-button",onClick:p,disabled:l.value||c.value},a(c.value?"å‘é€ä¸­...":l.value?`${v.value}s`:"è·å–éªŒè¯ç "),9,Zi)]),h(e("input",{type:"password","onUpdate:modelValue":y[2]||(y[2]=O=>n.value=O),placeholder:"å¯†ç "},null,512),[[b,n.value]]),e("button",{class:"btn btn-primary btn-full-width",onClick:u},"æ³¨å†Œ"),e("p",null,[y[4]||(y[4]=E("å·²æœ‰è´¦å·? ")),m(F,{to:{name:"Login"}},{default:Q(()=>y[3]||(y[3]=[E("ç™»å½•")])),_:1})])])])],64)}}},Qi=P(Yi,[["__scopeId","data-v-31281434"]]),Ji={class:"flex-container"},Xi={class:"login-container"},el={class:"code-container"},tl=["disabled"],sl={__name:"ResetPassword",setup(o){const t=M(""),s=M(""),i=M(""),n=M(!1),l=M(60),v=M(!1),c=["PASSWORD_RESET_4201","PASSWORD_RESET_4202","PASSWORD_RESET_4203","PASSWORD_RESET_4204","PASSWORD_RESET_4205","PASSWORD_RESET_4206","PASSWORD_RESET_4207","EMAIL_SEND_4301"],{proxy:_}=ge(),p=async()=>{if(re(t)&&!(n.value||v.value)){v.value=!0;try{const f=await w.post("/emails/send-verification",{toEmail:t.value,type:"RESET_PASSWORD"});if(c.includes(f.data.code)){_.$message.error(f.data.message);return}n.value=!0;let y=l.value;const F=setInterval(()=>{y--,l.value=y,y<=0&&(clearInterval(F),n.value=!1,l.value=60)},1e3)}catch(f){console.error("éªŒè¯ç å‘é€å¤±è´¥ï¼š",f)}finally{v.value=!1}}},u=async()=>{if(re(t)&&Ee(i)&&Re(s))try{const f=await w.put("/auth/password",{email:t.value,newPassword:i.value,emailCode:s.value});if(c.includes(f.data.code)){_.$message.error(f.data.message);return}_.$message.success("å¯†ç ä¿®æ”¹æˆåŠŸï¼Œè¯·ç™»å½•..."),setTimeout(()=>{G.push({name:"Login"})},100)}catch(f){console.error("å¯†ç ä¿®æ”¹å¤±è´¥ï¼š",f)}};return(f,y)=>{const F=k("router-link");return r(),d(I,null,[m(A),e("div",Ji,[e("div",Xi,[y[5]||(y[5]=e("h2",null,"å¿˜è®°å¯†ç ",-1)),h(e("input",{type:"text","onUpdate:modelValue":y[0]||(y[0]=O=>t.value=O),placeholder:"é‚®ç®±"},null,512),[[b,t.value]]),e("div",el,[h(e("input",{type:"text","onUpdate:modelValue":y[1]||(y[1]=O=>s.value=O),placeholder:"éªŒè¯ç "},null,512),[[b,s.value]]),e("button",{class:"code-button",onClick:p,disabled:n.value||v.value},a(v.value?"å‘é€ä¸­...":n.value?`${l.value}s`:"è·å–éªŒè¯ç "),9,tl)]),h(e("input",{type:"password","onUpdate:modelValue":y[2]||(y[2]=O=>i.value=O),placeholder:"æ–°å¯†ç "},null,512),[[b,i.value]]),e("button",{class:"btn btn-primary btn-full-width",onClick:u},"é‡ç½®å¯†ç "),e("p",null,[y[4]||(y[4]=E("é‡ç½®å¯†ç å¤±è´¥ï¼Ÿ")),m(F,{to:{name:"Register"}},{default:Q(()=>y[3]||(y[3]=[E("æ³¨å†Œ")])),_:1})])])])],64)}}},ol=P(sl,[["__scopeId","data-v-6566d987"]]),nl=me().replace(/\/$/,"");class il{constructor(){this.config={baseURL:`${nl}/api`,pollInterval:3e3,timeout:3e5}}async createWechatOrder(t){try{const s=await this.request("/payment/wechat/create",{method:"POST",body:JSON.stringify({...t,trade_type:"NATIVE",spbill_create_ip:"127.0.0.1"})});return this.handleResponse(s)}catch(s){throw console.error("åˆ›å»ºå¾®ä¿¡æ”¯ä»˜è®¢å•å¤±è´¥:",s),s}}async createAlipayOrder(t){try{const s=await this.request("/payment/alipay/create",{method:"POST",body:JSON.stringify({...t,product_code:"FAST_INSTANT_TRADE_PAY"})});return this.handleResponse(s)}catch(s){throw console.error("åˆ›å»ºæ”¯ä»˜å®è®¢å•å¤±è´¥:",s),s}}async queryPaymentStatus(t,s){try{const i=await this.request(`/payment/${s}/query/${t}`,{method:"GET"});return this.handleResponse(i)}catch(i){throw console.error("æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€å¤±è´¥:",i),i}}pollPaymentStatus(t,s,i,n,l){let v=0;const c=Math.floor(this.config.timeout/this.config.pollInterval),_=async()=>{try{if(v++,v>c){l&&l();return}const p=await this.queryPaymentStatus(t,s);if(p.success)switch(p.data.trade_state){case"SUCCESS":case"TRADE_SUCCESS":i&&i(p.data);return;case"CLOSED":case"TRADE_CLOSED":n&&n(new Error("è®¢å•å·²å…³é—­"));return;case"REFUND":n&&n(new Error("è®¢å•å·²é€€æ¬¾"));return;case"NOTPAY":case"WAIT_BUYER_PAY":break}this.pollingTimer=setTimeout(_,this.config.pollInterval)}catch(p){n&&n(p)}};return this.pollingTimer=setTimeout(_,this.config.pollInterval),{stop:()=>{this.pollingTimer&&(clearTimeout(this.pollingTimer),this.pollingTimer=null)}}}async request(t,s={}){const i=`${this.config.baseURL}${t}`,n={headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`}},l={...n,...s,headers:{...n.headers,...s.headers}};return fetch(i,l)}async handleResponse(t){if(!t.ok){const i=new Error(`HTTP ${t.status}: ${t.statusText}`);throw i.response=t,i}const s=await t.json();if(s.code!=="SUCCESS"&&s.code!==200)throw new Error(s.message||"è¯·æ±‚å¤±è´¥");return{success:!0,data:s.data||s,message:s.message}}getToken(){return localStorage.getItem("Token")||""}generateOrderNo(){const t=Date.now(),s=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`PAY${t}${s}`}formatAmountToFen(t){return Math.round(t*100)}formatAmountToYuan(t){return(t/100).toFixed(2)}}const Se=new il,ll={name:"Payment",components:{Header:A},data(){return{selectedPayment:"wechat",processing:!1,orderNo:"",qrCodeUrl:"",showQRCode:!1,pollingController:null,billingPeriod:"monthly",planData:{monthlyPrice:29,yearlyPrice:23}}},computed:{currentPrice(){return this.billingPeriod==="yearly"?this.planData.yearlyPrice:this.planData.monthlyPrice},billingText(){return this.billingPeriod==="yearly"?"å¹´":"æœˆ"}},mounted(){const o=new URLSearchParams(window.location.search);this.billingPeriod=o.get("billing")||"monthly";const t=o.get("monthly_price"),s=o.get("yearly_price");t&&(this.planData.monthlyPrice=parseFloat(t)),s&&(this.planData.yearlyPrice=parseFloat(s))},methods:{selectPayment(o){this.selectedPayment=o,this.showQRCode=!1,this.stopPolling()},async processPayment(){if(!(!this.selectedPayment||this.processing)){this.processing=!0,this.orderNo=Se.generateOrderNo();try{await new Promise(o=>setTimeout(o,2e3)),console.log(`æ”¯ä»˜åŠŸèƒ½æš‚æœªå¼€æ”¾ï¼Œè®¢å•å·ï¼š${this.orderNo}ï¼Œä»·æ ¼ï¼šÂ¥${this.currentPrice}/${this.billingText}`),this.$message&&this.$message.info("æ”¯ä»˜åŠŸèƒ½æš‚æœªå¼€æ”¾")}catch(o){console.error("æ”¯ä»˜å¤„ç†å¤±è´¥:",o)}finally{this.processing=!1}}},startPaymentPolling(){this.pollingController=Se.pollPaymentStatus(this.orderNo,this.selectedPayment,o=>{this.stopPolling(),this.$message.success("æ”¯ä»˜æˆåŠŸï¼"),setTimeout(()=>{this.$router.push({name:"UserDashboard"})},1500)},o=>{this.stopPolling(),this.$message.error(`æ”¯ä»˜å¤±è´¥: ${o.message}`)},()=>{this.stopPolling(),this.$message.warning("æ”¯ä»˜è¶…æ—¶ï¼Œè¯·é‡æ–°å‘èµ·æ”¯ä»˜")})},stopPolling(){this.pollingController&&(this.pollingController.stop(),this.pollingController=null)},retryPayment(){this.showQRCode=!1,this.processPayment()},cancelPayment(){this.stopPolling(),this.showQRCode=!1}},beforeUnmount(){this.stopPolling()}},al={class:"payment-page"},rl={class:"container"},dl={class:"payment-container"},cl={class:"payment-header"},ul={class:"subtitle"},ml={class:"payment-content"},pl={class:"order-summary"},vl={class:"plan-info"},hl={class:"plan-price"},_l={class:"billing-period"},fl={class:"total"},gl={class:"total-amount"},yl={class:"payment-methods"},bl={class:"payment-options"},kl={class:"payment-radio"},wl={class:"payment-radio"},Tl={class:"payment-action"},Sl=["disabled"],Cl={key:0},$l={key:1},Al={key:0,class:"qr-code-section"},Pl={class:"qr-code-container"},Il={class:"qr-code"},Ll=["src"],El={class:"qr-code-info"},Rl={class:"order-no"},Ul={class:"qr-code-actions"};function xl(o,t,s,i,n,l){const v=k("Header");return r(),d("div",al,[m(v),e("div",rl,[e("div",dl,[e("div",cl,[t[5]||(t[5]=e("h1",null,"é€‰æ‹©æ”¯ä»˜æ–¹å¼",-1)),e("p",ul,"ä¸“ä¸šç‰ˆ - Â¥"+a(l.currentPrice)+"/"+a(l.billingText)+"ï¼Œäº«å—æ›´å¤šé«˜çº§åŠŸèƒ½",1)]),e("div",ml,[e("div",pl,[t[8]||(t[8]=e("h2",null,"è®¢å•è¯¦æƒ…",-1)),e("div",vl,[t[6]||(t[6]=e("div",{class:"plan-name"},"ä¸“ä¸šç‰ˆ",-1)),e("div",hl,"Â¥"+a(l.currentPrice),1)]),e("div",_l,a(l.billingText==="year"?"æ¯å¹´è®¡è´¹":"æ¯æœˆè®¡è´¹"),1),e("div",fl,[t[7]||(t[7]=e("span",null,"æ€»è®¡",-1)),e("span",gl,"Â¥"+a(l.currentPrice),1)])]),e("div",yl,[t[12]||(t[12]=e("h2",null,"æ”¯ä»˜æ–¹å¼",-1)),e("div",bl,[e("div",{class:L(["payment-option",{active:n.selectedPayment==="wechat"}]),onClick:t[0]||(t[0]=c=>l.selectPayment("wechat"))},[t[9]||(t[9]=q('<div class="payment-icon wechat-icon" data-v-62e05ca1><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" data-v-62e05ca1><path d="M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 4.882-1.786 7.262-.736-.847-3.206-4.468-5.49-8.495-5.49z" data-v-62e05ca1></path><path d="M17.305 11.309c3.938 0 7.126 2.557 7.126 5.71 0 2.332-1.273 4.236-3.393 5.29l.364 1.361c.018.068.045.135.045.203 0 .15-.12.27-.268.27a.28.28 0 0 1-.153-.047l-1.748-1.023a.794.794 0 0 0-.66-.09 8.5 8.5 0 0 1-2.313.322c-3.938 0-7.126-2.557-7.126-5.71s3.188-5.71 7.126-5.71z" data-v-62e05ca1></path></svg></div><div class="payment-info" data-v-62e05ca1><div class="payment-name" data-v-62e05ca1>å¾®ä¿¡æ”¯ä»˜</div><div class="payment-desc" data-v-62e05ca1>ä½¿ç”¨å¾®ä¿¡æ‰«ç æ”¯ä»˜</div></div>',2)),e("div",kl,[e("div",{class:L(["radio-circle",{checked:n.selectedPayment==="wechat"}])},null,2)])],2),e("div",{class:L(["payment-option",{active:n.selectedPayment==="alipay"}]),onClick:t[1]||(t[1]=c=>l.selectPayment("alipay"))},[t[10]||(t[10]=q('<div class="payment-icon alipay-icon" data-v-62e05ca1><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" data-v-62e05ca1><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" data-v-62e05ca1></path></svg></div><div class="payment-info" data-v-62e05ca1><div class="payment-name" data-v-62e05ca1>æ”¯ä»˜å®</div><div class="payment-desc" data-v-62e05ca1>ä½¿ç”¨æ”¯ä»˜å®æ‰«ç æ”¯ä»˜</div></div>',2)),e("div",wl,[e("div",{class:L(["radio-circle",{checked:n.selectedPayment==="alipay"}])},null,2)])],2)]),e("div",Tl,[e("button",{class:"pay-button",disabled:!n.selectedPayment||n.processing,onClick:t[2]||(t[2]=(...c)=>l.processPayment&&l.processPayment(...c))},[n.processing?(r(),d("span",$l,"å¤„ç†ä¸­...")):(r(),d("span",Cl,"ç«‹å³æ”¯ä»˜ Â¥"+a(l.currentPrice),1))],8,Sl)]),n.showQRCode?(r(),d("div",Al,[e("div",Pl,[t[11]||(t[11]=e("h3",null,"è¯·æ‰«ç æ”¯ä»˜",-1)),e("div",Il,[e("img",{src:n.qrCodeUrl,alt:"æ”¯ä»˜äºŒç»´ç "},null,8,Ll)]),e("div",El,[e("p",null,"è¯·ä½¿ç”¨"+a(n.selectedPayment==="wechat"?"å¾®ä¿¡":"æ”¯ä»˜å®")+"æ‰«æä¸Šæ–¹äºŒç»´ç å®Œæˆæ”¯ä»˜",1),e("p",Rl,"è®¢å•å·ï¼š"+a(n.orderNo),1)]),e("div",Ul,[e("button",{class:"retry-button",onClick:t[3]||(t[3]=(...c)=>l.retryPayment&&l.retryPayment(...c))},"é‡æ–°ç”Ÿæˆ"),e("button",{class:"cancel-button",onClick:t[4]||(t[4]=(...c)=>l.cancelPayment&&l.cancelPayment(...c))},"å–æ¶ˆæ”¯ä»˜")])])])):C("",!0)])]),t[13]||(t[13]=q('<div class="security-notice" data-v-62e05ca1><div class="security-icon" data-v-62e05ca1><svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" data-v-62e05ca1><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z" data-v-62e05ca1></path></svg></div><div class="security-text" data-v-62e05ca1><div class="security-title" data-v-62e05ca1>å®‰å…¨ä¿éšœ</div><div class="security-desc" data-v-62e05ca1>æ‚¨çš„æ”¯ä»˜ä¿¡æ¯å°†è¢«åŠ å¯†ä¿æŠ¤ï¼Œæ”¯ä»˜è¿‡ç¨‹å®‰å…¨å¯é </div></div></div>',1))])])])}const Ml=P(ll,[["render",xl],["__scopeId","data-v-62e05ca1"]]),z={__name:"Admin_Sidebar",setup(o){return(t,s)=>(r(),te(xe,{type:"admin"}))}},Vl={class:"Admin_Home"},Ol={class:"main-content"},Dl={name:"Home",components:{Header:A,Admin_Sidebar:z},data(){return window.matchMedia("(prefers-color-scheme: dark)").matches,{}},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)}},mounted(){this.checkTokenValidity()}},Hl=Object.assign(Dl,{setup(o){return(t,s)=>(r(),d("div",Vl,[m(B),m(A),m(z),e("main",Ol,[m(B),s[0]||(s[0]=e("section",{class:"features"},[e("div",{class:"features-box"})],-1)),m(x)])]))}}),Nl=P(Hl,[["__scopeId","data-v-8ff2854f"]]),Fl={name:"Home",components:{Header:A,Admin_Sidebar:z},data(){return window.matchMedia("(prefers-color-scheme: dark)").matches,{user_id:null,users:[],add_style:!1,edit_style:!1,search_style:!1,email:"",password:"",role:"User",remaining_traffic:4e3,upload_limit:51888,download_limit:51888,is_trial_user:1,real_name:null,id_card:null,real_name_status:0,vip_start_time:this.getCurrentDate(),vip_end_time:this.getCurrentDate(),vip_status:0,errorCodes:["REGISTER_4001","REGISTER_4002","REGISTER_4003","REGISTER_4004","REGISTER_4005","REGISTER_4006","EMAIL_SEND_4301"]}},methods:{copyToClipboard(o){o&&navigator.clipboard.writeText(o.toString()).then(()=>{this.$message.success("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿: "+o)}).catch(t=>{const s=document.createElement("textarea");s.value=o,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),this.$message.success("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿: "+o)})},checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)},async getAllUsers(){try{const o=localStorage.getItem("AdminToken"),t=await w.get("/users",{headers:{Authorization:`Bearer ${o}`}});this.users=t.data.data}catch{}},formatDate(o){return new Date(o).toLocaleDateString()},add_style_function(){this.add_style=!0},async edit_style_function(o){var s,i;this.user_id=o;const t=localStorage.getItem("AdminToken");try{const l=(await w.get(`/users/${o}`,{headers:{Authorization:`Bearer ${t}`}})).data.data;this.email=l.email,this.password=l.password,this.role=l.role,this.remaining_traffic=l.remaining_traffic,this.upload_limit=l.upload_limit,this.download_limit=l.download_limit,this.is_trial_user=l.is_trial_user,this.real_name=l.real_name,this.id_card=l.id_card,this.real_name_status=l.real_name_status,this.vip_start_time=(s=l.vip_start_time)==null?void 0:s.slice(0,10),this.vip_end_time=(i=l.vip_end_time)==null?void 0:i.slice(0,10),this.vip_status=l.vip_status,this.edit_style=!0}catch{}},search_style_function(){this.search_style=!0},getCurrentDate(){const o=new Date,t=o.getFullYear(),s=String(o.getMonth()+1).padStart(2,"0"),i=String(o.getDate()).padStart(2,"0");return`${t}-${s}-${i}`},async confirmTheAddition(){if(!Ie.test(this.email)){this.$message.error("æ‚¨çš„é‚®ç®±æ ¼å¼ä¸ç¬¦åˆæ¡ä»¶ï¼Œè¯·æ›´æ¢åé‡è¯•...");return}if(!this.password||this.password.length<6){this.$message.error("å¯†ç ä¸èƒ½ä¸ºç©ºï¼Œä¸”é•¿åº¦ä¸èƒ½å°‘äº6ä½ï¼");return}if(Le.test(this.password)){this.$message.warning("æ‚¨çš„å¯†ç å¤ªå¼±äº†ï¼Œè¯·æ›´æ¢ä¸€ä¸ªå¤æ‚ç‚¹çš„å¯†ç ...");return}if(confirm(`ç¡®å®šè¦æ–°å¢ç”¨æˆ· "${this.email}" å—ï¼Ÿ

è¯·æ£€æŸ¥å¡«å†™çš„ä¿¡æ¯æ˜¯å¦æ­£ç¡®ã€‚`)){const o={email:this.email,password:this.password,role:this.role,remaining_traffic:this.remaining_traffic,upload_limit:this.upload_limit,download_limit:this.download_limit,is_trial_user:this.is_trial_user,real_name:this.real_name,id_card:this.id_card,real_name_status:this.real_name_status,vip_start_time:this.vip_start_time,vip_end_time:this.vip_end_time,vip_status:this.vip_status};try{const t=await w.post("/auth/register_backstage",o);if(this.errorCodes.includes(t.data.code)){this.$message.error(t.data.message);return}this.$message.success(t.data.message),this.add_style=!1,setTimeout(()=>{window.location.reload()},1e3)}catch{this.$message.error("æ–°å¢ç”¨æˆ·å¤±è´¥")}}},async deleteUser(o){const t=this.users.find(s=>s.user_id===o);if(confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· "${t.email}" å—ï¼Ÿ

æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`))try{const s=localStorage.getItem("AdminToken"),i=await w.delete(`/auth/delete/${o}`,{headers:{Authorization:s}});this.$message.success(i.data.message),setTimeout(()=>{window.location.reload()},1e3)}catch{this.$message.error("åˆ é™¤ç”¨æˆ·å¤±è´¥")}},async confirmTheEdit(){if(confirm(`ç¡®å®šè¦ä¿®æ”¹ç”¨æˆ· "${this.email}" çš„ä¿¡æ¯å—ï¼Ÿ

è¯·æ£€æŸ¥å¡«å†™çš„ä¿¡æ¯æ˜¯å¦æ­£ç¡®ã€‚`))try{const o=localStorage.getItem("AdminToken"),t={userId:this.user_id,email:this.email,role:this.role,remainingTraffic:this.remaining_traffic,uploadLimit:this.upload_limit,downloadLimit:this.download_limit,isTrialUser:this.is_trial_user,realName:this.real_name,realNameStatus:this.real_name_status,vipStartTime:this.vip_start_time,vipEndTime:this.vip_end_time,vipStatus:this.vip_status};this.password&&this.password.trim()!==""&&(t.password=this.password),this.id_card&&this.id_card.trim()!==""&&(t.idCard=this.id_card);const s=await w.post("/auth/editUser",t,{headers:{Authorization:o}});this.$message.success(s.data.message),setTimeout(()=>{window.location.reload()},1e3)}catch{this.$message.error("ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯å¤±è´¥")}},async confirmTheSearch(){try{const o={email:this.email,role:this.role,isTrialUser:this.is_trial_user,realName:this.real_name,realNameStatus:this.real_name_status,vipStatus:this.vip_status},t=await w.get("/users/search",{params:o})}catch{}}},mounted(){this.checkTokenValidity(),this.getAllUsers()}},Bl={class:"Admin_Users"},zl={class:"main-content"},ql={class:"features"},jl={class:"top"},Wl=["onClick"],Kl=["onClick"],Gl=["onClick"],Zl=["onClick"],Yl=["onClick"],Ql=["onClick"],Jl=["onClick"],Xl=["onClick"],ea=["onClick"],ta=["onClick"],sa=["onClick"],oa=["onClick"],na=["onClick"],ia=["onClick"],la=["onClick"],aa={class:"td_edit"},ra=["onClick"],da={class:"td_delete"},ca=["onClick"],ua={key:0,class:"overlay_1"},ma={class:"add"},pa={class:"form-row"},va={class:"form-field"},ha={class:"form-field"},_a={class:"form-row"},fa={class:"form-field"},ga={class:"form-field"},ya={class:"form-row"},ba={class:"form-field"},ka={class:"form-field"},wa={class:"form-row"},Ta={class:"form-field"},Sa={class:"form-field"},Ca={class:"form-row"},$a={class:"form-field"},Aa={class:"form-field"},Pa={class:"form-row"},Ia={class:"form-field"},La={class:"form-field"},Ea={class:"form-row"},Ra={class:"form-field"},Ua={key:1,class:"overlay_1"},xa={class:"edit"},Ma={class:"form-row"},Va={class:"form-field"},Oa={class:"form-field"},Da={class:"form-row"},Ha={class:"form-field"},Na={class:"form-field"},Fa={class:"form-row"},Ba={class:"form-field"},za={class:"form-field"},qa={class:"form-row"},ja={class:"form-field"},Wa={class:"form-field"},Ka={class:"form-row"},Ga={class:"form-field"},Za={class:"form-field"},Ya={class:"form-row"},Qa={class:"form-field"},Ja={class:"form-field"},Xa={class:"form-row"},er={class:"form-field"},tr={key:2,class:"overlay_1"},sr={class:"add"},or={class:"form-row"},nr={class:"form-field"},ir={class:"form-field"},lr={class:"form-row"},ar={class:"form-field"},rr={class:"form-field"},dr={class:"form-row"},cr={class:"form-field"},ur={class:"form-field"};function mr(o,t,s,i,n,l){const v=k("Loading"),c=k("Header"),_=k("Admin_Sidebar"),p=k("Footer");return r(),d("div",Bl,[m(v),m(c),m(_),e("main",zl,[m(v),e("section",ql,[e("div",jl,[e("button",{class:"search_button",onClick:t[0]||(t[0]=(...u)=>l.search_style_function&&l.search_style_function(...u))},"æŸ¥è¯¢"),e("button",{class:"add_button",onClick:t[1]||(t[1]=(...u)=>l.add_style_function&&l.add_style_function(...u))},"æ–°å¢")]),e("table",null,[t[40]||(t[40]=e("thead",null,[e("tr",null,[e("th",{class:"head user-id"},"ç”¨æˆ·ID"),e("th",{class:"head email"},"é‚®ç®±"),e("th",{class:"head user-key"},"ç”¨æˆ·å¯†é’¥"),e("th",{class:"head role"},"ç”¨æˆ·æƒé™"),e("th",{class:"head remaining-traffic"},"å‰©ä½™æµé‡"),e("th",{class:"head upload-limit"},"ä¸Šè¡Œé™é€Ÿ"),e("th",{class:"head download-limit"},"ä¸‹è¡Œé™é€Ÿ"),e("th",{class:"head is-trial-user"},"å…ˆé”‹æµ‹è¯•ç”¨æˆ·"),e("th",{class:"head vip-start-time"},"ä¼šå‘˜å¼€å§‹æ—¶é—´"),e("th",{class:"head vip-end-time"},"ä¼šå‘˜ç»“æŸæ—¶é—´"),e("th",{class:"head vip-status"},"ä¼šå‘˜çŠ¶æ€"),e("th",{class:"head real-name"},"çœŸå®å§“å"),e("th",{class:"head real-name-status"},"å®åçŠ¶æ€"),e("th",{class:"head created-at"},"åˆ›å»ºæ—¥æœŸ"),e("th",{class:"head updated-at"},"æ›´æ–°æ—¥æœŸ"),e("th",{class:"head edit-t"},"ç¼–è¾‘"),e("th",{class:"head delete"},"åˆ é™¤")])],-1)),e("tbody",null,[(r(!0),d(I,null,U(n.users,u=>(r(),d("tr",{key:u.user_id},[e("td",{class:"user-id clickable",onClick:f=>l.copyToClipboard(u.user_id)},a(u.user_id),9,Wl),e("td",{class:"email clickable",onClick:f=>l.copyToClipboard(u.email)},a(u.email),9,Kl),e("td",{class:"email clickable",onClick:f=>l.copyToClipboard(u.user_key)},a(u.user_key),9,Gl),e("td",{class:"role clickable",onClick:f=>l.copyToClipboard(u.role)},a(u.role),9,Zl),e("td",{class:"remaining-traffic clickable",onClick:f=>l.copyToClipboard(u.remaining_traffic)},a(u.remaining_traffic),9,Yl),e("td",{class:"upload-limit clickable",onClick:f=>l.copyToClipboard(u.upload_limit)},a(u.upload_limit),9,Ql),e("td",{class:"download-limit clickable",onClick:f=>l.copyToClipboard(u.download_limit)},a(u.download_limit),9,Jl),e("td",{class:"is-trial-user clickable",onClick:f=>l.copyToClipboard(u.is_trial_user?"æ˜¯":"å¦")},a(u.is_trial_user?"æ˜¯":"å¦"),9,Xl),e("td",{class:"vip-start-time clickable",onClick:f=>l.copyToClipboard(l.formatDate(u.vip_start_time))},a(l.formatDate(u.vip_start_time)),9,ea),e("td",{class:"vip-end-time clickable",onClick:f=>l.copyToClipboard(l.formatDate(u.vip_end_time))},a(l.formatDate(u.vip_end_time)),9,ta),e("td",{class:"vip-status clickable",onClick:f=>l.copyToClipboard(u.vip_status?"VIP":"éVIP")},a(u.vip_status?"VIP":"éVIP"),9,sa),e("td",{class:"real-name clickable",onClick:f=>l.copyToClipboard(u.real_name)},a(u.real_name),9,oa),e("td",{class:"real-name-status clickable",onClick:f=>l.copyToClipboard(u.real_name_status?"å·²å®å":"æœªå®å")},a(u.real_name_status?"å·²å®å":"æœªå®å"),9,na),e("td",{class:"created-at clickable",onClick:f=>l.copyToClipboard(l.formatDate(u.created_at))},a(l.formatDate(u.created_at)),9,ia),e("td",{class:"updated-at clickable",onClick:f=>l.copyToClipboard(l.formatDate(u.updated_at))},a(l.formatDate(u.updated_at)),9,la),e("td",aa,[e("button",{class:"edit_button",onClick:f=>l.edit_style_function(u.user_id)},"ç¼–è¾‘",8,ra)]),e("td",da,[e("button",{class:"edit_delete",onClick:f=>l.deleteUser(u.user_id)},"åˆ é™¤",8,ca)])]))),128))])]),n.add_style?(r(),d("div",ua,[e("div",ma,[t[58]||(t[58]=e("h1",null,"æ–°å¢ç”¨æˆ·",-1)),e("div",pa,[e("div",va,[t[41]||(t[41]=e("label",{for:""},"è´¦å·*",-1)),h(e("input",{id:"email","onUpdate:modelValue":t[2]||(t[2]=u=>n.email=u),type:"text"},null,512),[[b,n.email]])]),e("div",ha,[t[42]||(t[42]=e("label",{for:""},"å¯†ç *",-1)),h(e("input",{id:"password","onUpdate:modelValue":t[3]||(t[3]=u=>n.password=u),type:"password"},null,512),[[b,n.password]])])]),e("div",_a,[e("div",fa,[t[44]||(t[44]=e("label",{for:""},"æƒé™",-1)),h(e("select",{"onUpdate:modelValue":t[4]||(t[4]=u=>n.role=u),id:"role"},t[43]||(t[43]=[e("option",{value:"User"},"User",-1),e("option",{value:"Admin"},"Admin",-1),e("option",{value:"SuperAdmin"},"SuperAdmin",-1)]),512),[[V,n.role]])]),e("div",ga,[t[45]||(t[45]=e("label",{for:""},"æ€»æµé‡ (GB)",-1)),h(e("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>n.remaining_traffic=u),id:"remaining_traffic",type:"number",value:"4000"},null,512),[[b,n.remaining_traffic]])])]),e("div",ya,[e("div",ba,[t[46]||(t[46]=e("label",{for:""},"ä¸Šè¡Œé™é€Ÿ (Mb)",-1)),h(e("input",{"onUpdate:modelValue":t[6]||(t[6]=u=>n.upload_limit=u),id:"upload_limit",type:"number",value:"51888"},null,512),[[b,n.upload_limit]])]),e("div",ka,[t[47]||(t[47]=e("label",{for:""},"ä¸‹è¡Œé™é€Ÿ (Mb)",-1)),h(e("input",{"onUpdate:modelValue":t[7]||(t[7]=u=>n.download_limit=u),id:"download_limit",type:"number",value:"51888"},null,512),[[b,n.download_limit]])])]),e("div",wa,[e("div",Ta,[t[49]||(t[49]=e("label",{for:""},"å…ˆé”‹ä½“éªŒç”¨æˆ·",-1)),h(e("select",{"onUpdate:modelValue":t[8]||(t[8]=u=>n.is_trial_user=u),id:"is_trial_user"},t[48]||(t[48]=[e("option",{value:"1"},"æ˜¯",-1),e("option",{value:"0"},"å¦",-1)]),512),[[V,n.is_trial_user,void 0,{number:!0}]])]),e("div",Sa,[t[50]||(t[50]=e("label",null,"çœŸå®å§“å",-1)),h(e("input",{"onUpdate:modelValue":t[9]||(t[9]=u=>n.real_name=u),id:"real_name",type:"text",placeholder:"å¼ xx"},null,512),[[b,n.real_name]])])]),e("div",Ca,[e("div",$a,[t[51]||(t[51]=e("label",null,"èº«ä»½è¯å·ï¼ˆåŠ å¯†ï¼‰",-1)),h(e("input",{"onUpdate:modelValue":t[10]||(t[10]=u=>n.id_card=u),id:"id_card",type:"text",placeholder:"652xxxxxxxxxxxxxxx"},null,512),[[b,n.id_card]])]),e("div",Aa,[t[53]||(t[53]=e("label",null,"æ˜¯å¦å®å",-1)),h(e("select",{"onUpdate:modelValue":t[11]||(t[11]=u=>n.real_name_status=u),id:"real_name_status"},t[52]||(t[52]=[e("option",{value:"1"},"å·²å®å",-1),e("option",{value:"0"},"æœªå®å",-1)]),512),[[V,n.real_name_status,void 0,{number:!0}]])])]),e("div",Pa,[e("div",Ia,[t[54]||(t[54]=e("label",null,"ä¼šå‘˜å¼€å§‹æ—¶é—´",-1)),h(e("input",{"onUpdate:modelValue":t[12]||(t[12]=u=>n.vip_start_time=u),id:"vip_start_time",type:"date"},null,512),[[b,n.vip_start_time]])]),e("div",La,[t[55]||(t[55]=e("label",null,"ä¼šå‘˜ç»“æŸæ—¶é—´",-1)),h(e("input",{"onUpdate:modelValue":t[13]||(t[13]=u=>n.vip_end_time=u),id:"vip_end_time",type:"date"},null,512),[[b,n.vip_end_time]])])]),e("div",Ea,[e("div",Ra,[t[57]||(t[57]=e("label",null,"ä¼šå‘˜çŠ¶æ€",-1)),h(e("select",{"onUpdate:modelValue":t[14]||(t[14]=u=>n.vip_status=u),id:"vip_status"},t[56]||(t[56]=[e("option",{value:"0"},"éVIP",-1),e("option",{value:"1"},"VIP",-1)]),512),[[V,n.vip_status,void 0,{number:!0}]])])]),e("div",null,[e("button",{type:"button",onClick:t[15]||(t[15]=(...u)=>l.confirmTheAddition&&l.confirmTheAddition(...u)),class:"confirm"},"ç¡®è®¤æ–°å¢"),e("button",{type:"button",onClick:t[16]||(t[16]=u=>n.add_style=!1),class:"cancel"},"å–æ¶ˆ")])])])):C("",!0),n.edit_style?(r(),d("div",Ua,[e("div",xa,[t[76]||(t[76]=e("h1",null,"ä¿®æ”¹ç”¨æˆ·",-1)),e("div",Ma,[e("div",Va,[t[59]||(t[59]=e("label",{for:""},"è´¦å·*",-1)),h(e("input",{id:"email","onUpdate:modelValue":t[17]||(t[17]=u=>n.email=u),type:"text"},null,512),[[b,n.email]])]),e("div",Oa,[t[60]||(t[60]=e("label",{for:""},"å¯†ç *ï¼ˆé»˜è®¤ä¸æ˜¾ç¤ºï¼‰",-1)),h(e("input",{id:"password","onUpdate:modelValue":t[18]||(t[18]=u=>n.password=u),type:"text"},null,512),[[b,n.password]])])]),e("div",Da,[e("div",Ha,[t[62]||(t[62]=e("label",{for:""},"æƒé™",-1)),h(e("select",{"onUpdate:modelValue":t[19]||(t[19]=u=>n.role=u),id:"role"},t[61]||(t[61]=[e("option",{value:"User"},"User",-1),e("option",{value:"Admin"},"Admin",-1),e("option",{value:"SuperAdmin"},"SuperAdmin",-1)]),512),[[V,n.role]])]),e("div",Na,[t[63]||(t[63]=e("label",{for:""},"æ€»æµé‡ (GB)",-1)),h(e("input",{"onUpdate:modelValue":t[20]||(t[20]=u=>n.remaining_traffic=u),id:"remaining_traffic",type:"number",value:"4000"},null,512),[[b,n.remaining_traffic]])])]),e("div",Fa,[e("div",Ba,[t[64]||(t[64]=e("label",{for:""},"ä¸Šè¡Œé™é€Ÿ (Mb)",-1)),h(e("input",{"onUpdate:modelValue":t[21]||(t[21]=u=>n.upload_limit=u),id:"upload_limit",type:"number",value:"51888"},null,512),[[b,n.upload_limit]])]),e("div",za,[t[65]||(t[65]=e("label",{for:""},"ä¸‹è¡Œé™é€Ÿ (Mb)",-1)),h(e("input",{"onUpdate:modelValue":t[22]||(t[22]=u=>n.download_limit=u),id:"download_limit",type:"number",value:"51888"},null,512),[[b,n.download_limit]])])]),e("div",qa,[e("div",ja,[t[67]||(t[67]=e("label",{for:""},"å…ˆé”‹ä½“éªŒç”¨æˆ·",-1)),h(e("select",{"onUpdate:modelValue":t[23]||(t[23]=u=>n.is_trial_user=u),id:"is_trial_user"},t[66]||(t[66]=[e("option",{value:"1"},"æ˜¯",-1),e("option",{value:"0"},"å¦",-1)]),512),[[V,n.is_trial_user,void 0,{number:!0}]])]),e("div",Wa,[t[68]||(t[68]=e("label",null,"çœŸå®å§“å",-1)),h(e("input",{"onUpdate:modelValue":t[24]||(t[24]=u=>n.real_name=u),id:"real_name",type:"text",placeholder:""},null,512),[[b,n.real_name]])])]),e("div",Ka,[e("div",Ga,[t[69]||(t[69]=e("label",null,"èº«ä»½è¯å·ï¼ˆé»˜è®¤ä¸æ˜¾ç¤ºï¼‰",-1)),h(e("input",{"onUpdate:modelValue":t[25]||(t[25]=u=>n.id_card=u),id:"id_card",type:"text",placeholder:""},null,512),[[b,n.id_card]])]),e("div",Za,[t[71]||(t[71]=e("label",null,"æ˜¯å¦å®å",-1)),h(e("select",{"onUpdate:modelValue":t[26]||(t[26]=u=>n.real_name_status=u),id:"real_name_status"},t[70]||(t[70]=[e("option",{value:"1"},"å·²å®å",-1),e("option",{value:"0"},"æœªå®å",-1)]),512),[[V,n.real_name_status,void 0,{number:!0}]])])]),e("div",Ya,[e("div",Qa,[t[72]||(t[72]=e("label",null,"ä¼šå‘˜å¼€å§‹æ—¶é—´",-1)),h(e("input",{"onUpdate:modelValue":t[27]||(t[27]=u=>n.vip_start_time=u),id:"vip_start_time",type:"date"},null,512),[[b,n.vip_start_time]])]),e("div",Ja,[t[73]||(t[73]=e("label",null,"ä¼šå‘˜ç»“æŸæ—¶é—´",-1)),h(e("input",{"onUpdate:modelValue":t[28]||(t[28]=u=>n.vip_end_time=u),id:"vip_end_time",type:"date"},null,512),[[b,n.vip_end_time]])])]),e("div",Xa,[e("div",er,[t[75]||(t[75]=e("label",null,"ä¼šå‘˜çŠ¶æ€",-1)),h(e("select",{"onUpdate:modelValue":t[29]||(t[29]=u=>n.vip_status=u),id:"vip_status"},t[74]||(t[74]=[e("option",{value:"0"},"éVIP",-1),e("option",{value:"1"},"VIP",-1)]),512),[[V,n.vip_status,void 0,{number:!0}]])])]),e("div",null,[e("button",{type:"button",onClick:t[30]||(t[30]=u=>l.confirmTheEdit(this.user_id)),class:"confirm"},"ç¡®è®¤ä¿®æ”¹"),e("button",{type:"button",onClick:t[31]||(t[31]=u=>n.edit_style=!1),class:"cancel"},"å–æ¶ˆ")])])])):C("",!0),n.search_style?(r(),d("div",tr,[e("div",sr,[t[87]||(t[87]=e("h1",null,"æŸ¥è¯¢ç”¨æˆ·",-1)),e("div",or,[e("div",nr,[t[77]||(t[77]=e("label",{for:""},"è´¦å·*",-1)),h(e("input",{id:"email","onUpdate:modelValue":t[32]||(t[32]=u=>n.email=u),type:"text"},null,512),[[b,n.email]])]),e("div",ir,[t[79]||(t[79]=e("label",{for:""},"æƒé™",-1)),h(e("select",{"onUpdate:modelValue":t[33]||(t[33]=u=>n.role=u),id:"role"},t[78]||(t[78]=[e("option",{value:"User"},"User",-1),e("option",{value:"Admin"},"Admin",-1),e("option",{value:"SuperAdmin"},"SuperAdmin",-1)]),512),[[V,n.role]])])]),e("div",lr,[e("div",ar,[t[81]||(t[81]=e("label",{for:""},"å…ˆé”‹ä½“éªŒç”¨æˆ·",-1)),h(e("select",{"onUpdate:modelValue":t[34]||(t[34]=u=>n.is_trial_user=u),id:"is_trial_user"},t[80]||(t[80]=[e("option",{value:"1"},"æ˜¯",-1),e("option",{value:"0"},"å¦",-1)]),512),[[V,n.is_trial_user,void 0,{number:!0}]])]),e("div",rr,[t[82]||(t[82]=e("label",null,"çœŸå®å§“å",-1)),h(e("input",{"onUpdate:modelValue":t[35]||(t[35]=u=>n.real_name=u),id:"real_name",type:"text",placeholder:"å¼ xx"},null,512),[[b,n.real_name]])])]),e("div",dr,[e("div",cr,[t[84]||(t[84]=e("label",null,"æ˜¯å¦å®å",-1)),h(e("select",{"onUpdate:modelValue":t[36]||(t[36]=u=>n.real_name_status=u),id:"real_name_status"},t[83]||(t[83]=[e("option",{value:"1"},"å·²å®å",-1),e("option",{value:"0"},"æœªå®å",-1)]),512),[[V,n.real_name_status,void 0,{number:!0}]])]),e("div",ur,[t[86]||(t[86]=e("label",null,"ä¼šå‘˜çŠ¶æ€",-1)),h(e("select",{"onUpdate:modelValue":t[37]||(t[37]=u=>n.vip_status=u),id:"vip_status"},t[85]||(t[85]=[e("option",{value:"0"},"éVIP",-1),e("option",{value:"1"},"VIP",-1)]),512),[[V,n.vip_status,void 0,{number:!0}]])])]),e("div",null,[e("button",{type:"button",onClick:t[38]||(t[38]=(...u)=>l.confirmTheSearch&&l.confirmTheSearch(...u)),class:"confirm"},"å¼€å§‹æŸ¥è¯¢"),e("button",{type:"button",onClick:t[39]||(t[39]=u=>n.search_style=!1),class:"cancel"},"å–æ¶ˆ")])])])):C("",!0)]),m(p)])])}const pr=P(Fl,[["render",mr],["__scopeId","data-v-40e52667"]]),vr={name:"Admin_Email",components:{Header:A,Admin_Sidebar:z},data(){return{activeTab:"send",emailForm:{subject:"",content:""},recipientCount:0,loading:!1,sending:!1,users:[],userSearchKeyword:"",showUserList:!1,emailHistory:[],historyLoading:!1,showEmailDetailPopup:!1,selectedEmail:null}},computed:{filteredUsers(){return this.userSearchKeyword?this.users.filter(o=>o.toLowerCase().includes(this.userSearchKeyword.toLowerCase())):this.users}},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)||this.$router.push({name:"Admin_Login"})},validateEmailForm(){return this.recipientCount===0?{valid:!1,message:"æ²¡æœ‰å¯å‘é€çš„æ”¶ä»¶äººï¼Œè¯·å…ˆç¡®ä¿æœ‰ç”¨æˆ·å¯æ¥æ”¶é‚®ä»¶"}:this.emailForm.subject.trim()?this.emailForm.subject.trim().length<2?{valid:!1,message:"é‚®ä»¶ä¸»é¢˜å¤ªçŸ­ï¼Œè‡³å°‘éœ€è¦2ä¸ªå­—ç¬¦"}:this.emailForm.content.trim()?this.emailForm.content.trim().length<5?{valid:!1,message:"é‚®ä»¶å†…å®¹å¤ªçŸ­ï¼Œè‡³å°‘éœ€è¦5ä¸ªå­—ç¬¦"}:{valid:!0,message:""}:{valid:!1,message:"é‚®ä»¶å†…å®¹ä¸èƒ½ä¸ºç©ºï¼Œè¯·è¾“å…¥é‚®ä»¶å†…å®¹"}:{valid:!1,message:"é‚®ä»¶ä¸»é¢˜ä¸èƒ½ä¸ºç©ºï¼Œè¯·è¾“å…¥é‚®ä»¶ä¸»é¢˜"}},async loadEmailData(){this.loading=!0;try{await Promise.all([this.loadEmailCount(),this.loadEmailHistory()])}catch{}finally{this.loading=!1}},async loadEmailCount(){try{const o=localStorage.getItem("AdminToken"),t=await w.get("/emails/all-emails",{headers:{Authorization:`Bearer ${o}`}});t.data.code==="200"||t.data.code===200?(this.users=t.data.data||[],this.recipientCount=this.users.length):this.$message.error(t.data.message||t.data.msg||"è·å–é‚®ç®±åˆ—è¡¨å¤±è´¥")}catch{this.$message.error("è·å–é‚®ç®±åˆ—è¡¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥")}},async loadEmailHistory(){this.historyLoading=!0;try{const o=localStorage.getItem("AdminToken"),t=await w.get("/emails/history?limit=50",{headers:{Authorization:`Bearer ${o}`}});t.data.code==="200"||t.data.code===200?this.emailHistory=t.data.data||[]:this.$message.error(t.data.message||t.data.msg||"è·å–å†å²è®°å½•å¤±è´¥")}catch{this.$message.error("è·å–å†å²è®°å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥")}finally{this.historyLoading=!1}},async sendBulkEmail(){const o=this.validateEmailForm();if(!o.valid){this.$message.error(o.message);return}if(confirm(`ç¡®å®šè¦å‘é€é‚®ä»¶ç»™ ${this.recipientCount} ä½ç”¨æˆ·å—ï¼Ÿ

ä¸»é¢˜ï¼š${this.emailForm.subject}

æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼`)){this.sending=!0;try{const t=localStorage.getItem("AdminToken"),s=await w.post("/emails/send-bulk",this.emailForm,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});s.data.code===200?(this.$message.success(`é‚®ä»¶å‘é€æˆåŠŸï¼å·²å‘é€ç»™ ${s.data.data.recipientCount} ä½ç”¨æˆ·`),this.emailForm.subject="",this.emailForm.content="",await this.loadEmailHistory()):this.$message.error(s.data.msg||"é‚®ä»¶å‘é€å¤±è´¥")}catch{this.$message.error("é‚®ä»¶å‘é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–é‚®ä»¶é…ç½®")}finally{this.sending=!1}}},async showEmailDetail(o){this.selectedEmail=o,this.showEmailDetailPopup=!0},formatContent(o){return o?o.length>100?o.substring(0,100)+"...":o:""},formatTime(o){return o?new Date(o).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""},getStatusClass(o){switch(o){case"SUCCESS":return"status-success";case"FAILED":return"status-failed";case"PARTIAL":return"status-partial";default:return"status-default"}}},mounted(){this.checkTokenValidity(),this.loadEmailData()}},hr={class:"Admin_Email"},_r={class:"main-content"},fr={class:"tab-header"},gr={class:"content-section"},yr={class:"form-container"},br={class:"form-row"},kr={class:"form-field full-width"},wr={class:"form-row"},Tr={class:"form-field full-width"},Sr={class:"info-section"},Cr={class:"info-row"},$r={class:"info-value"},Ar={class:"info-value"},Pr={class:"form-buttons"},Ir=["disabled"],Lr=["disabled"],Er={class:"content-section"},Rr={key:0,class:"loading-container"},Ur={key:1,class:"empty-container"},xr={key:2,class:"history-table"},Mr=["onClick"],Vr={class:"subject clickable"},Or={class:"recipient-count"},Dr={class:"status"},Hr={class:"time"},Nr={class:"action"},Fr=["onClick"],Br={key:0,class:"overlay_1"},zr={class:"popup"},qr={class:"search-section"},jr={class:"user-list"},Wr={class:"popup-buttons"},Kr={key:1,class:"overlay_1"},Gr={class:"popup"},Zr={class:"email-info"},Yr={class:"info-row"},Qr={class:"info-row"},Jr={class:"info-row"},Xr={class:"info-row"},ed={class:"info-row"},td={class:"email-content"},sd={class:"content-text"},od={class:"popup-buttons"};function nd(o,t,s,i,n,l){var _,p,u,f,y,F,O;const v=k("Header"),c=k("Admin_Sidebar");return r(),d("div",hr,[m(v),m(c),e("main",_r,[e("div",fr,[e("button",{class:L(["tab-button",{active:n.activeTab==="send"}]),onClick:t[0]||(t[0]=$=>n.activeTab="send")}," é‚®ä»¶å‘é€ ",2),e("button",{class:L(["tab-button",{active:n.activeTab==="history"}]),onClick:t[1]||(t[1]=$=>n.activeTab="history")}," å†å²è®°å½• ",2)]),h(e("div",gr,[e("div",yr,[e("div",br,[e("div",kr,[t[10]||(t[10]=e("label",null,"é‚®ä»¶ä¸»é¢˜ *",-1)),h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=$=>n.emailForm.subject=$),type:"text",placeholder:"è¯·è¾“å…¥é‚®ä»¶ä¸»é¢˜"},null,512),[[b,n.emailForm.subject]])])]),e("div",wr,[e("div",Tr,[t[11]||(t[11]=e("label",null,"é‚®ä»¶å†…å®¹ *",-1)),h(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=$=>n.emailForm.content=$),placeholder:"è¯·è¾“å…¥é‚®ä»¶å†…å®¹",rows:"8"},null,512),[[b,n.emailForm.content]])])]),e("div",Sr,[e("div",Cr,[t[12]||(t[12]=e("label",null,"æ”¶ä»¶äººæ•°é‡",-1)),e("span",$r,a(n.recipientCount)+" ä½ç”¨æˆ·",1)]),e("div",{class:"info-row clickable",onClick:t[4]||(t[4]=$=>n.showUserList=!0)},[t[13]||(t[13]=e("label",null,"æŸ¥çœ‹ç”¨æˆ·åˆ—è¡¨",-1)),e("span",Ar,a(n.users.length)+" ä½ç”¨æˆ· â†’",1)])]),e("div",Pr,[e("button",{class:"send-btn",onClick:t[5]||(t[5]=(...$)=>l.sendBulkEmail&&l.sendBulkEmail(...$)),disabled:n.sending},a(n.sending?"æ­£åœ¨å‘é€...":"å‘é€é‚®ä»¶"),9,Ir),e("button",{class:"refresh-btn",onClick:t[6]||(t[6]=(...$)=>l.loadEmailData&&l.loadEmailData(...$)),disabled:n.loading},a(n.loading?"åˆ·æ–°ä¸­...":"åˆ·æ–°æ•°æ®"),9,Lr)])])],512),[[ke,n.activeTab==="send"]]),h(e("div",Er,[n.historyLoading?(r(),d("div",Rr,t[14]||(t[14]=[e("div",{class:"loading-text"},"åŠ è½½ä¸­...",-1)]))):n.emailHistory.length===0?(r(),d("div",Ur,t[15]||(t[15]=[e("div",{class:"empty-text"},"æš‚æ— å‘é€è®°å½•",-1)]))):(r(),d("div",xr,[e("table",null,[t[16]||(t[16]=e("thead",null,[e("tr",null,[e("th",{class:"head"},"é‚®ä»¶ä¸»é¢˜"),e("th",{class:"head"},"æ”¶ä»¶äººæ•°é‡"),e("th",{class:"head"},"å‘é€çŠ¶æ€"),e("th",{class:"head"},"å‘é€æ—¶é—´"),e("th",{class:"head"},"æŸ¥çœ‹è¯¦æƒ…")])],-1)),e("tbody",null,[(r(!0),d(I,null,U(n.emailHistory,$=>(r(),d("tr",{key:$.id,onClick:ce=>l.showEmailDetail($)},[e("td",Vr,a(l.formatContent($.subject)),1),e("td",Or,a($.recipientCount)+" ä½",1),e("td",Dr,[e("span",{class:L(["status-tag",l.getStatusClass($.sendStatus)])},a($.sendStatus),3)]),e("td",Hr,a(l.formatTime($.createdAt)),1),e("td",Nr,[e("button",{class:"detail-button",onClick:ue(ce=>l.showEmailDetail($),["stop"])},"æŸ¥çœ‹",8,Fr)])],8,Mr))),128))])])]))],512),[[ke,n.activeTab==="history"]]),n.showUserList?(r(),d("div",Br,[e("div",zr,[e("h1",null,"ç”¨æˆ·é‚®ç®±åˆ—è¡¨ ("+a(n.users.length)+")",1),e("div",qr,[h(e("input",{"onUpdate:modelValue":t[7]||(t[7]=$=>n.userSearchKeyword=$),type:"text",placeholder:"æœç´¢ç”¨æˆ·é‚®ç®±"},null,512),[[b,n.userSearchKeyword]])]),e("div",jr,[(r(!0),d(I,null,U(l.filteredUsers,$=>(r(),d("div",{key:$,class:"user-item"},a($),1))),128))]),e("div",Wr,[e("button",{class:"close-btn",onClick:t[8]||(t[8]=$=>n.showUserList=!1)},"å…³é—­")])])])):C("",!0),n.showEmailDetailPopup?(r(),d("div",Kr,[e("div",Gr,[t[23]||(t[23]=e("h1",null,"é‚®ä»¶è¯¦æƒ…",-1)),e("div",Zr,[e("div",Yr,[t[17]||(t[17]=e("label",null,"ä¸»é¢˜",-1)),e("span",null,a((_=n.selectedEmail)==null?void 0:_.subject),1)]),e("div",Qr,[t[18]||(t[18]=e("label",null,"æ”¶ä»¶äººæ•°é‡",-1)),e("span",null,a((p=n.selectedEmail)==null?void 0:p.recipientCount)+" ä½ç”¨æˆ·",1)]),e("div",Jr,[t[19]||(t[19]=e("label",null,"å‘é€çŠ¶æ€",-1)),e("span",{class:L(["status-tag",l.getStatusClass((u=n.selectedEmail)==null?void 0:u.sendStatus)])},a((f=n.selectedEmail)==null?void 0:f.sendStatus),3)]),e("div",Xr,[t[20]||(t[20]=e("label",null,"å‘é€æ—¶é—´",-1)),e("span",null,a(l.formatTime((y=n.selectedEmail)==null?void 0:y.createdAt)),1)]),e("div",ed,[t[21]||(t[21]=e("label",null,"å‘é€é‚®ç®±",-1)),e("span",null,a((F=n.selectedEmail)==null?void 0:F.senderEmail),1)])]),e("div",td,[t[22]||(t[22]=e("label",null,"é‚®ä»¶å†…å®¹",-1)),e("div",sd,a((O=n.selectedEmail)==null?void 0:O.content),1)]),e("div",od,[e("button",{class:"close-btn",onClick:t[9]||(t[9]=$=>n.showEmailDetailPopup=!1)},"å…³é—­")])])])):C("",!0)])])}const id=P(vr,[["render",nd],["__scopeId","data-v-42d7d41a"]]),ld={name:"Admin_Logs",components:{Loading:B,Header:A,Admin_Sidebar:z},data(){return{logs:[],loading:!1,searchForm:{logType:"",userEmail:"",operation:"",module:"",ipAddress:"",status:"",startTime:"",endTime:""},logTypeOptions:[{text:"å…¨éƒ¨",value:""},{text:"ç™»å½•æ—¥å¿—",value:"LOGIN"},{text:"æ“ä½œæ—¥å¿—",value:"OPERATION"},{text:"é”™è¯¯æ—¥å¿—",value:"ERROR"},{text:"å®‰å…¨æ—¥å¿—",value:"SECURITY"}],statusOptions:[{text:"å…¨éƒ¨",value:""},{text:"æˆåŠŸ",value:"SUCCESS"},{text:"å¤±è´¥",value:"FAILED"},{text:"é”™è¯¯",value:"ERROR"}],moduleOptions:[{text:"å…¨éƒ¨",value:""},{text:"è®¤è¯æ¨¡å—",value:"è®¤è¯æ¨¡å—"},{text:"ç”¨æˆ·æ¨¡å—",value:"ç”¨æˆ·æ¨¡å—"},{text:"éš§é“æ¨¡å—",value:"éš§é“æ¨¡å—"},{text:"é‚®ä»¶æ¨¡å—",value:"é‚®ä»¶æ¨¡å—"},{text:"æœåŠ¡å™¨æ¨¡å—",value:"æœåŠ¡å™¨æ¨¡å—"},{text:"ç®¡ç†æ¨¡å—",value:"ç®¡ç†æ¨¡å—"}],showSearchPanel:!1,selectedLog:null,showLogDetail:!1,router:j()}},computed:{},methods:{checkTokenValidity(){const o=localStorage.getItem("AdminToken");W(this.router,o,!0)},async fetchLogs(){try{this.loading=!0,_e({message:"åŠ è½½ä¸­...",forbidClick:!0,duration:0});const o={sortBy:"createdTime",sortDir:"desc",...this.searchForm};Object.keys(o).forEach(i=>{(o[i]===""||o[i]===null||o[i]===void 0)&&delete o[i]});const t=localStorage.getItem("AdminToken")||localStorage.getItem("Token"),s=await w.get("/api/logs/all",{params:o,headers:{Authorization:`Bearer ${t}`}});if(s.data.code==200){const i=s.data.data;this.logs=i||[]}else Y(s.data.message||"è·å–æ—¥å¿—å¤±è´¥")}catch{Y("è·å–æ—¥å¿—å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥")}finally{this.loading=!1,fe()}},searchLogs(){this.fetchLogs(),this.showSearchPanel=!1},resetSearch(){this.searchForm={logType:"",userEmail:"",operation:"",module:"",ipAddress:"",status:"",startTime:"",endTime:""},this.fetchLogs(),this.showSearchPanel=!1},formatTime(o){return o?new Date(o).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-"},getStatusClass(o){switch(o){case"SUCCESS":return"status-success";case"FAILED":return"status-failed";case"ERROR":return"status-error";default:return"status-unknown"}},getStatusText(o){switch(o){case"SUCCESS":return"æˆåŠŸ";case"FAILED":return"å¤±è´¥";case"ERROR":return"é”™è¯¯";default:return"æœªçŸ¥"}},getLogTypeText(o){switch(o){case"LOGIN":return"ç™»å½•æ—¥å¿—";case"OPERATION":return"æ“ä½œæ—¥å¿—";case"ERROR":return"é”™è¯¯æ—¥å¿—";case"SECURITY":return"å®‰å…¨æ—¥å¿—";default:return o}},async viewLogDetail(o){try{_e({message:"åŠ è½½è¯¦æƒ…...",forbidClick:!0,duration:0});const t=localStorage.getItem("AdminToken")||localStorage.getItem("Token"),s=await w.get(`/api/logs/${o.id}`,{headers:{Authorization:`Bearer ${t}`}});s.data.code==200?(this.selectedLog=s.data.data,this.showLogDetail=!0):Y(s.data.message||"è·å–æ—¥å¿—è¯¦æƒ…å¤±è´¥")}catch{Y("è·å–æ—¥å¿—è¯¦æƒ…å¤±è´¥")}finally{fe()}},async copyToClipboard(o){try{await navigator.clipboard.writeText(o),Y("å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch{Y("å¤åˆ¶å¤±è´¥")}}},mounted(){this.checkTokenValidity(),this.fetchLogs()}},ad={class:"Admin_Logs"},rd={class:"main-content"},dd={class:"features"},cd={class:"top"},ud={key:0,class:"search_panel"},md={class:"form-row"},pd={class:"form-field"},vd={class:"form-field"},hd={class:"form-row"},_d={class:"form-field"},fd={class:"form-field"},gd=["value"],yd={class:"form-row"},bd={class:"form-field"},kd=["value"],wd={class:"form-field"},Td=["value"],Sd={class:"form-row"},Cd={class:"form-field"},$d={class:"form-field"},Ad={class:"form-actions"},Pd={key:0},Id=["onClick"],Ld=["onClick"],Ed=["onClick"],Rd=["onClick"],Ud=["onClick"],xd=["onClick"],Md={class:"status"},Vd={class:"execution-time"},Od=["onClick"],Dd={class:"actions"},Hd=["onClick"],Nd={key:0,class:"overlay_1"},Fd={class:"detail_panel"},Bd={class:"detail_header"},zd={class:"detail_content"},qd={class:"detail_row"},jd={class:"detail_row"},Wd={class:"detail_row"},Kd={class:"detail_row"},Gd={class:"detail_row"},Zd={class:"detail_row"},Yd={class:"detail_row"},Qd={class:"detail_row"},Jd={class:"detail_row"},Xd={class:"detail_row"},ec={class:"detail_row"},tc={class:"detail_row"},sc={class:"detail_row"},oc={class:"detail_row"},nc={class:"detail_row"},ic={class:"detail_row"},lc={key:0,class:"detail_section"},ac={class:"error-message"},rc={key:1,class:"detail_section"},dc={class:"params-content"},cc={key:2,class:"detail_section"},uc={class:"response-content"},mc={key:3,class:"detail_section"},pc={class:"stack-content"};function vc(o,t,s,i,n,l){const v=k("Loading"),c=k("Header"),_=k("Admin_Sidebar");return r(),d("div",ad,[m(v),m(c),m(_),e("main",rd,[m(v),e("section",dd,[e("div",cd,[e("button",{class:"search_button",onClick:t[0]||(t[0]=p=>n.showSearchPanel=!0)},"æŸ¥è¯¢")]),n.showSearchPanel?(r(),d("div",ud,[t[21]||(t[21]=e("h3",null,"æœç´¢æ¡ä»¶",-1)),e("div",md,[e("div",pd,[t[13]||(t[13]=e("label",null,"ç”¨æˆ·é‚®ç®±",-1)),h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=p=>n.searchForm.userEmail=p),type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·é‚®ç®±"},null,512),[[b,n.searchForm.userEmail]])]),e("div",vd,[t[14]||(t[14]=e("label",null,"æ“ä½œç±»å‹",-1)),h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=p=>n.searchForm.operation=p),type:"text",placeholder:"è¯·è¾“å…¥æ“ä½œç±»å‹"},null,512),[[b,n.searchForm.operation]])])]),e("div",hd,[e("div",_d,[t[15]||(t[15]=e("label",null,"IPåœ°å€",-1)),h(e("input",{"onUpdate:modelValue":t[3]||(t[3]=p=>n.searchForm.ipAddress=p),type:"text",placeholder:"è¯·è¾“å…¥IPåœ°å€"},null,512),[[b,n.searchForm.ipAddress]])]),e("div",fd,[t[16]||(t[16]=e("label",null,"æ—¥å¿—ç±»å‹",-1)),h(e("select",{"onUpdate:modelValue":t[4]||(t[4]=p=>n.searchForm.logType=p)},[(r(!0),d(I,null,U(n.logTypeOptions,p=>(r(),d("option",{key:p.value,value:p.value},a(p.text),9,gd))),128))],512),[[V,n.searchForm.logType]])])]),e("div",yd,[e("div",bd,[t[17]||(t[17]=e("label",null,"çŠ¶æ€",-1)),h(e("select",{"onUpdate:modelValue":t[5]||(t[5]=p=>n.searchForm.status=p)},[(r(!0),d(I,null,U(n.statusOptions,p=>(r(),d("option",{key:p.value,value:p.value},a(p.text),9,kd))),128))],512),[[V,n.searchForm.status]])]),e("div",wd,[t[18]||(t[18]=e("label",null,"æ¨¡å—",-1)),h(e("select",{"onUpdate:modelValue":t[6]||(t[6]=p=>n.searchForm.module=p)},[(r(!0),d(I,null,U(n.moduleOptions,p=>(r(),d("option",{key:p.value,value:p.value},a(p.text),9,Td))),128))],512),[[V,n.searchForm.module]])])]),e("div",Sd,[e("div",Cd,[t[19]||(t[19]=e("label",null,"å¼€å§‹æ—¶é—´",-1)),h(e("input",{"onUpdate:modelValue":t[7]||(t[7]=p=>n.searchForm.startTime=p),type:"datetime-local"},null,512),[[b,n.searchForm.startTime]])]),e("div",$d,[t[20]||(t[20]=e("label",null,"ç»“æŸæ—¶é—´",-1)),h(e("input",{"onUpdate:modelValue":t[8]||(t[8]=p=>n.searchForm.endTime=p),type:"datetime-local"},null,512),[[b,n.searchForm.endTime]])])]),e("div",Ad,[e("button",{class:"reset_button",onClick:t[9]||(t[9]=(...p)=>l.resetSearch&&l.resetSearch(...p))},"é‡ç½®"),e("button",{class:"confirm_button",onClick:t[10]||(t[10]=(...p)=>l.searchLogs&&l.searchLogs(...p))},"æœç´¢"),e("button",{class:"close_button",onClick:t[11]||(t[11]=p=>n.showSearchPanel=!1)},"å…³é—­")])])):C("",!0),e("table",null,[t[23]||(t[23]=e("thead",null,[e("tr",null,[e("th",{class:"head log-id"},"ID"),e("th",{class:"head log-type"},"æ—¥å¿—ç±»å‹"),e("th",{class:"head user-email"},"ç”¨æˆ·é‚®ç®±"),e("th",{class:"head operation"},"æ“ä½œ"),e("th",{class:"head module"},"æ¨¡å—"),e("th",{class:"head ip-address"},"IPåœ°å€"),e("th",{class:"head status"},"çŠ¶æ€"),e("th",{class:"head execution-time"},"æ‰§è¡Œæ—¶é—´"),e("th",{class:"head created-time"},"åˆ›å»ºæ—¶é—´"),e("th",{class:"head actions"},"æ“ä½œ")])],-1)),e("tbody",null,[n.logs.length===0&&!n.loading?(r(),d("tr",Pd,t[22]||(t[22]=[e("td",{colspan:"10",style:{"text-align":"center",padding:"40px",color:"#999"}},[e("div",{style:{"font-size":"16px"}},"æš‚æ— æ—¥å¿—æ•°æ®"),e("div",{style:{"font-size":"12px","margin-top":"8px"}},"è¯·æ£€æŸ¥æœç´¢æ¡ä»¶æˆ–åˆ·æ–°é¡µé¢")],-1)]))):C("",!0),(r(!0),d(I,null,U(n.logs,p=>(r(),d("tr",{key:p.id},[e("td",{class:"log-id clickable",onClick:u=>l.copyToClipboard(p.id)},a(p.id),9,Id),e("td",{class:"log-type clickable",onClick:u=>l.copyToClipboard(p.logType)},a(l.getLogTypeText(p.logType)),9,Ld),e("td",{class:"user-email clickable",onClick:u=>l.copyToClipboard(p.userEmail)},a(p.userEmail||"-"),9,Ed),e("td",{class:"operation clickable",onClick:u=>l.copyToClipboard(p.operation)},a(p.operation),9,Rd),e("td",{class:"module clickable",onClick:u=>l.copyToClipboard(p.module)},a(p.module),9,Ud),e("td",{class:"ip-address clickable",onClick:u=>l.copyToClipboard(p.ipAddress)},a(p.ipAddress),9,xd),e("td",Md,[e("span",{class:L(["status-tag",l.getStatusClass(p.status)])},a(l.getStatusText(p.status)),3)]),e("td",Vd,a(p.executionTime||"-")+"ms",1),e("td",{class:"created-time clickable",onClick:u=>l.copyToClipboard(l.formatTime(p.createdTime))},a(l.formatTime(p.createdTime)),9,Od),e("td",Dd,[e("button",{class:"detail_button",onClick:u=>l.viewLogDetail(p)},"è¯¦æƒ…",8,Hd)])]))),128))])])])]),n.showLogDetail&&n.selectedLog?(r(),d("div",Nd,[e("div",Fd,[e("div",Bd,[t[24]||(t[24]=e("h2",null,"æ—¥å¿—è¯¦æƒ…",-1)),e("button",{class:"close_button",onClick:t[12]||(t[12]=p=>n.showLogDetail=!1)},"Ã—")]),e("div",zd,[e("div",qd,[t[25]||(t[25]=e("label",null,"æ—¥å¿—ID:",-1)),e("span",null,a(n.selectedLog.id),1)]),e("div",jd,[t[26]||(t[26]=e("label",null,"æ—¥å¿—ç±»å‹:",-1)),e("span",null,a(l.getLogTypeText(n.selectedLog.logType)),1)]),e("div",Wd,[t[27]||(t[27]=e("label",null,"ç”¨æˆ·ID:",-1)),e("span",null,a(n.selectedLog.userId||"-"),1)]),e("div",Kd,[t[28]||(t[28]=e("label",null,"ç”¨æˆ·é‚®ç®±:",-1)),e("span",null,a(n.selectedLog.userEmail||"-"),1)]),e("div",Gd,[t[29]||(t[29]=e("label",null,"æ“ä½œç±»å‹:",-1)),e("span",null,a(n.selectedLog.operation),1)]),e("div",Zd,[t[30]||(t[30]=e("label",null,"æ‰€å±æ¨¡å—:",-1)),e("span",null,a(n.selectedLog.module),1)]),e("div",Yd,[t[31]||(t[31]=e("label",null,"è¯·æ±‚æ–¹æ³•:",-1)),e("span",null,a(n.selectedLog.requestMethod||"-"),1)]),e("div",Qd,[t[32]||(t[32]=e("label",null,"è¯·æ±‚URL:",-1)),e("span",null,a(n.selectedLog.requestUrl||"-"),1)]),e("div",Jd,[t[33]||(t[33]=e("label",null,"IPåœ°å€:",-1)),e("span",null,a(n.selectedLog.ipAddress),1)]),e("div",Xd,[t[34]||(t[34]=e("label",null,"æµè§ˆå™¨:",-1)),e("span",null,a(n.selectedLog.browser||"-"),1)]),e("div",ec,[t[35]||(t[35]=e("label",null,"æ“ä½œç³»ç»Ÿ:",-1)),e("span",null,a(n.selectedLog.os||"-"),1)]),e("div",tc,[t[36]||(t[36]=e("label",null,"åœ°ç†ä½ç½®:",-1)),e("span",null,a(n.selectedLog.location||"-"),1)]),e("div",sc,[t[37]||(t[37]=e("label",null,"æ‰§è¡Œæ—¶é—´:",-1)),e("span",null,a(n.selectedLog.executionTime?`${n.selectedLog.executionTime}ms`:"-"),1)]),e("div",oc,[t[38]||(t[38]=e("label",null,"çŠ¶æ€:",-1)),e("span",{class:L(["status-tag",l.getStatusClass(n.selectedLog.status)])},a(l.getStatusText(n.selectedLog.status)),3)]),e("div",nc,[t[39]||(t[39]=e("label",null,"åˆ›å»ºæ—¶é—´:",-1)),e("span",null,a(l.formatTime(n.selectedLog.createdTime)),1)]),e("div",ic,[t[40]||(t[40]=e("label",null,"æè¿°:",-1)),e("span",null,a(n.selectedLog.description||"-"),1)]),n.selectedLog.errorMessage?(r(),d("div",lc,[t[41]||(t[41]=e("h4",null,"é”™è¯¯ä¿¡æ¯",-1)),e("div",ac,a(n.selectedLog.errorMessage),1)])):C("",!0),n.selectedLog.requestParams?(r(),d("div",rc,[t[42]||(t[42]=e("h4",null,"è¯·æ±‚å‚æ•°",-1)),e("pre",dc,a(n.selectedLog.requestParams),1)])):C("",!0),n.selectedLog.responseData?(r(),d("div",cc,[t[43]||(t[43]=e("h4",null,"å“åº”æ•°æ®",-1)),e("pre",uc,a(n.selectedLog.responseData),1)])):C("",!0),n.selectedLog.stackTrace?(r(),d("div",mc,[t[44]||(t[44]=e("h4",null,"å¼‚å¸¸å †æ ˆ",-1)),e("pre",pc,a(n.selectedLog.stackTrace),1)])):C("",!0)])])])):C("",!0)])}const hc=P(ld,[["render",vc],["__scopeId","data-v-47c6b3ca"]]),_c={class:"Admin_LogStatistics"},fc={class:"main-content"},gc={class:"statistics-page"},yc={class:"page-header"},bc={class:"header-actions"},kc=["value"],wc={class:"stats-cards"},Tc={class:"stat-card"},Sc={class:"stat-icon total"},Cc={class:"stat-content"},$c={class:"stat-value"},Ac={class:"stat-card"},Pc={class:"stat-icon success"},Ic={class:"stat-content"},Lc={class:"stat-value"},Ec={class:"stat-card"},Rc={class:"stat-icon error"},Uc={class:"stat-content"},xc={class:"stat-value"},Mc={class:"stat-card"},Vc={class:"stat-icon users"},Oc={class:"stat-content"},Dc={class:"stat-value"},Hc={class:"charts-container"},Nc={class:"chart-card"},Fc={class:"chart-content"},Bc={key:0,class:"log-type-chart"},zc={class:"pie-chart-container"},qc={class:"chart-legend"},jc={class:"legend-text"},Wc={class:"legend-name"},Kc={class:"legend-value"},Gc={key:1,class:"no-data"},Zc={class:"chart-card"},Yc={class:"chart-content"},Qc={key:0,class:"operation-chart"},Jc={class:"operation-info"},Xc={class:"operation-name"},eu={class:"operation-count"},tu={class:"progress-bar"},su={key:0,class:"more-operations"},ou={key:1,class:"no-data"},nu={class:"detailed-stats"},iu={class:"stats-table"},lu={class:"table-container"},au={class:"rank"},ru={class:"user-email"},du={class:"count"},cu={key:0,class:"no-data"},uu={class:"stats-table"},mu={class:"table-container"},pu={class:"rank"},vu={class:"operation-name"},hu={class:"count"},_u={class:"percentage"},fu={key:0,class:"no-data"},gu={__name:"Statistics",setup(o){const t=M({}),s=M(!1),i=M("7d"),n=[{text:"æœ€è¿‘24å°æ—¶",value:"1d"},{text:"æœ€è¿‘7å¤©",value:"7d"},{text:"æœ€è¿‘30å¤©",value:"30d"},{text:"æœ€è¿‘90å¤©",value:"90d"}],l=M([]),v=M([]),c=S=>{const g=new Date;let R;switch(S){case"1d":R=new Date(g.getTime()-24*60*60*1e3);break;case"7d":R=new Date(g.getTime()-7*24*60*60*1e3);break;case"30d":R=new Date(g.getTime()-30*24*60*60*1e3);break;case"90d":R=new Date(g.getTime()-90*24*60*60*1e3);break;default:R=new Date(g.getTime()-7*24*60*60*1e3)}return{startTime:R.toISOString().slice(0,19),endTime:g.toISOString().slice(0,19)}},_=async()=>{try{s.value=!0,_e({message:"åŠ è½½ç»Ÿè®¡ä¸­...",forbidClick:!0,duration:0});const{startTime:S,endTime:g}=c(i.value),R=localStorage.getItem("AdminToken")||localStorage.getItem("Token"),T=await w.get("/api/logs/statistics",{params:{startTime:S,endTime:g},headers:{Authorization:`Bearer ${R}`}});T.data.code==200?t.value=T.data.data:Y(T.data.message||"è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥")}catch(S){console.error("è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥:",S),Y("è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥")}finally{s.value=!1,fe()}},p=async()=>{try{const{startTime:S,endTime:g}=c(i.value),R=localStorage.getItem("AdminToken")||localStorage.getItem("Token"),T=await w.get("/api/logs/analytics/active-users",{params:{limit:10},headers:{Authorization:`Bearer ${R}`}});T.data.code==200&&(l.value=T.data.data||[])}catch{}},u=async()=>{try{const{startTime:S,endTime:g}=c(i.value),R=localStorage.getItem("AdminToken")||localStorage.getItem("Token"),T=await w.get("/api/logs/analytics/frequent-operations",{params:{limit:10},headers:{Authorization:`Bearer ${R}`}});T.data.code==200&&(v.value=T.data.data||[])}catch{}},f=async()=>{try{await Promise.all([_(),p(),u()])}catch{}},y=()=>{f()},F=K(()=>{const S=t.value.totalCount||0,g=t.value.successCount||0;return S>0?(g/S*100).toFixed(2):0}),O=K(()=>{const S=t.value.totalCount||0,g=t.value.errorCount||0;return S>0?(g/S*100).toFixed(2):0}),$=S=>S>=1e6?(S/1e6).toFixed(1)+"M":S>=1e3?(S/1e3).toFixed(1)+"K":S.toString(),ce=S=>({LOGIN:"#1989fa",OPERATION:"#07c160",ERROR:"#ee0a24",SECURITY:"#ff976a"})[S]||"#969799",Ve=S=>({LOGIN:"ç™»å½•æ—¥å¿—",OPERATION:"æ“ä½œæ—¥å¿—",ERROR:"é”™è¯¯æ—¥å¿—",SECURITY:"å®‰å…¨æ—¥å¿—"})[S]||S,Oe=()=>{if(!t.value.logTypeStats)return"#f5f5f5";const S=Object.keys(t.value.logTypeStats).map(ne=>ce(ne)),g=Object.values(t.value.logTypeStats),R=g.reduce((ne,pe)=>ne+pe,0);if(R===0)return"#f5f5f5";let T=0;const H=[];return g.forEach((ne,pe)=>{const ye=ne/R*100/100*360;H.push(`${S[pe]} ${T}deg ${T+ye}deg`),T+=ye}),`conic-gradient(from 0deg, ${H.join(", ")})`},De=(S,g)=>{const R=Object.entries(S).sort((T,H)=>H[1]-T[1]);return Object.fromEntries(R.slice(0,g))},He=S=>{const g=Object.values(t.value.operationStats||{}).reduce((R,T)=>R+T,0);return g>0?Math.min(S/g*100,100):0},Ne=S=>({ç”¨æˆ·ç™»å½•:"#1989fa",ç”¨æˆ·æ³¨å†Œ:"#07c160",æŸ¥è¯¢æ“ä½œ:"#ff976a",æ›´æ–°æ“ä½œ:"#ff6034",åˆ é™¤æ“ä½œ:"#ee0a24",å…¶ä»–æ“ä½œ:"#969799"})[S]||"#1989fa";return Ae(()=>{f()}),(S,g)=>{const R=k("van-icon");return r(),d("div",_c,[m(B),m(A),m(z),e("main",fc,[m(B),e("section",gc,[e("div",yc,[g[2]||(g[2]=e("h1",null,"æ—¥å¿—ç»Ÿè®¡",-1)),e("div",bc,[h(e("select",{"onUpdate:modelValue":g[0]||(g[0]=T=>i.value=T),onChange:y,class:"time-range-select"},[(r(),d(I,null,U(n,T=>e("option",{key:T.value,value:T.value},a(T.text),9,kc)),64))],544),[[V,i.value]]),e("button",{class:"refresh-button",onClick:f},[m(R,{name:"replay"}),g[1]||(g[1]=E(" åˆ·æ–° "))])])]),e("div",wc,[e("div",Tc,[e("div",Sc,[m(R,{name:"chart-trending-o"})]),e("div",Cc,[e("div",$c,a($(t.value.totalCount||0)),1),g[3]||(g[3]=e("div",{class:"stat-label"},"æ€»æ—¥å¿—æ•°",-1))])]),e("div",Ac,[e("div",Pc,[m(R,{name:"success"})]),e("div",Ic,[e("div",Lc,a(F.value)+"%",1),g[4]||(g[4]=e("div",{class:"stat-label"},"æˆåŠŸç‡",-1))])]),e("div",Ec,[e("div",Rc,[m(R,{name:"fail"})]),e("div",Uc,[e("div",xc,a(O.value)+"%",1),g[5]||(g[5]=e("div",{class:"stat-label"},"é”™è¯¯ç‡",-1))])]),e("div",Mc,[e("div",Vc,[m(R,{name:"friends-o"})]),e("div",Oc,[e("div",Dc,a($(t.value.uniqueUsers||0)),1),g[6]||(g[6]=e("div",{class:"stat-label"},"æ´»è·ƒç”¨æˆ·",-1))])])]),e("div",Hc,[e("div",Nc,[g[7]||(g[7]=e("h3",null,"æ—¥å¿—ç±»å‹åˆ†å¸ƒ",-1)),e("div",Fc,[t.value.logTypeStats?(r(),d("div",Bc,[e("div",zc,[e("div",{class:"pie-chart",style:le({background:Oe()})},null,4)]),e("div",qc,[(r(!0),d(I,null,U(t.value.logTypeStats,(T,H)=>(r(),d("div",{key:H,class:"legend-item"},[e("div",{class:"legend-color",style:le({backgroundColor:ce(H)})},null,4),e("div",jc,[e("div",Wc,a(Ve(H)),1),e("div",Kc,a($(T))+" ("+a((T/t.value.totalCount*100).toFixed(1))+"%)",1)])]))),128))])])):(r(),d("div",Gc,"æš‚æ— æ•°æ®"))])]),e("div",Zc,[g[8]||(g[8]=e("h3",null,"æ“ä½œç±»å‹åˆ†å¸ƒ",-1)),e("div",Yc,[t.value.operationStats?(r(),d("div",Qc,[(r(!0),d(I,null,U(De(t.value.operationStats,6),(T,H)=>(r(),d("div",{key:H,class:"operation-bar"},[e("div",Jc,[e("div",Xc,a(H),1),e("div",eu,a($(T)),1)]),e("div",tu,[e("div",{class:"progress-fill",style:le({width:He(T)+"%",backgroundColor:Ne(H)})},null,4)])]))),128)),Object.keys(t.value.operationStats).length>6?(r(),d("div",su," è¿˜æœ‰ "+a(Object.keys(t.value.operationStats).length-6)+" ä¸ªæ“ä½œç±»å‹... ",1)):C("",!0)])):(r(),d("div",ou,"æš‚æ— æ•°æ®"))])])]),e("div",nu,[e("div",iu,[g[10]||(g[10]=e("h3",null,"æœ€æ´»è·ƒç”¨æˆ·",-1)),e("div",lu,[e("table",null,[g[9]||(g[9]=e("thead",null,[e("tr",null,[e("th",null,"æ’å"),e("th",null,"ç”¨æˆ·é‚®ç®±"),e("th",null,"æ“ä½œæ¬¡æ•°")])],-1)),e("tbody",null,[(r(!0),d(I,null,U(l.value,(T,H)=>(r(),d("tr",{key:T[0]||H},[e("td",au,a(H+1),1),e("td",ru,a(T[0]||"æœªçŸ¥ç”¨æˆ·"),1),e("td",du,a($(T[1]||0)),1)]))),128))])]),l.value.length==0?(r(),d("div",cu,"æš‚æ— æ•°æ®")):C("",!0)])]),e("div",uu,[g[12]||(g[12]=e("h3",null,"æœ€é¢‘ç¹æ“ä½œ",-1)),e("div",mu,[e("table",null,[g[11]||(g[11]=e("thead",null,[e("tr",null,[e("th",null,"æ’å"),e("th",null,"æ“ä½œç±»å‹"),e("th",null,"æ‰§è¡Œæ¬¡æ•°"),e("th",null,"å æ¯”")])],-1)),e("tbody",null,[(r(!0),d(I,null,U(v.value,(T,H)=>(r(),d("tr",{key:T[0]||H},[e("td",pu,a(H+1),1),e("td",vu,a(T[0]||"æœªçŸ¥æ“ä½œ"),1),e("td",hu,a($(T[1]||0)),1),e("td",_u,a(t.value.totalCount>0?(T[1]/t.value.totalCount*100).toFixed(1):0)+"% ",1)]))),128))])]),v.value.length==0?(r(),d("div",fu," æš‚æ— æ•°æ® ")):C("",!0)])])])])])])}}},yu=P(gu,[["__scopeId","data-v-b31192b2"]]),bu={__name:"Admin_Login",setup(o){return(t,s)=>(r(),te(Me,{type:"admin"}))}},ku={name:"TunnelManagement",components:{Header:A,Admin_Sidebar:z,Footer:x},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)}},mounted(){this.checkTokenValidity()}},wu={class:"Admin_TunnelManagement"},Tu={class:"main-content"};function Su(o,t,s,i,n,l){const v=k("Header"),c=k("Admin_Sidebar"),_=k("Footer");return r(),d("div",wu,[m(v),m(c),e("main",Tu,[t[0]||(t[0]=e("section",{class:"features"},[e("div",{class:"features-box"},[e("h1",null,"éš§é“ç®¡ç†"),e("p",null,"æ­¤åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...")])],-1)),m(_)])])}const Cu=P(ku,[["render",Su],["__scopeId","data-v-dde973d3"]]),$u={name:"AuthManagement",components:{Header:A,Admin_Sidebar:z,Footer:x},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)}},mounted(){this.checkTokenValidity()}},Au={class:"Admin_AuthManagement"},Pu={class:"main-content"};function Iu(o,t,s,i,n,l){const v=k("Header"),c=k("Admin_Sidebar"),_=k("Footer");return r(),d("div",Au,[m(v),m(c),e("main",Pu,[t[0]||(t[0]=e("section",{class:"features"},[e("div",{class:"features-box"},[e("h1",null,"å®åç®¡ç†"),e("p",null,"æ­¤åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...")])],-1)),m(_)])])}const Lu=P($u,[["render",Iu],["__scopeId","data-v-dfde3d79"]]),Eu={name:"AnnouncementManagement",components:{Header:A,Admin_Sidebar:z,Footer:x},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)}},mounted(){this.checkTokenValidity()}},Ru={class:"Admin_AnnouncementManagement"},Uu={class:"main-content"};function xu(o,t,s,i,n,l){const v=k("Header"),c=k("Admin_Sidebar"),_=k("Footer");return r(),d("div",Ru,[m(v),m(c),e("main",Uu,[t[0]||(t[0]=e("section",{class:"features"},[e("div",{class:"features-box"},[e("h1",null,"å…¬å‘Šç®¡ç†"),e("p",null,"æ­¤åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...")])],-1)),m(_)])])}const Mu=P(Eu,[["render",xu],["__scopeId","data-v-904289f5"]]),Vu={name:"AnswerManagement",components:{Header:A,Admin_Sidebar:z,Footer:x},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)}},mounted(){this.checkTokenValidity()}},Ou={class:"Admin_AnswerManagement"},Du={class:"main-content"};function Hu(o,t,s,i,n,l){const v=k("Header"),c=k("Admin_Sidebar"),_=k("Footer");return r(),d("div",Ou,[m(v),m(c),e("main",Du,[t[0]||(t[0]=e("section",{class:"features"},[e("div",{class:"features-box"},[e("h1",null,"ç­”é¢˜ç®¡ç†"),e("p",null,"æ­¤åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...")])],-1)),m(_)])])}const Nu=P(Vu,[["render",Hu],["__scopeId","data-v-a3947f21"]]),Fu={name:"QuestionManagement",components:{Header:A,Admin_Sidebar:z,Footer:x},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)}},mounted(){this.checkTokenValidity()}},Bu={class:"Admin_QuestionManagement"},zu={class:"main-content"};function qu(o,t,s,i,n,l){const v=k("Header"),c=k("Admin_Sidebar"),_=k("Footer");return r(),d("div",Bu,[m(v),m(c),e("main",zu,[t[0]||(t[0]=e("section",{class:"features"},[e("div",{class:"features-box"},[e("h1",null,"é¢˜ç›®ç®¡ç†"),e("p",null,"æ­¤åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...")])],-1)),m(_)])])}const ju=P(Fu,[["render",qu],["__scopeId","data-v-2018f084"]]),Wu={name:"EmailCodeManagement",components:{Header:A,Admin_Sidebar:z,Footer:x},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)}},mounted(){this.checkTokenValidity()}},Ku={class:"Admin_EmailCodeManagement"},Gu={class:"main-content"};function Zu(o,t,s,i,n,l){const v=k("Header"),c=k("Admin_Sidebar"),_=k("Footer");return r(),d("div",Ku,[m(v),m(c),e("main",Gu,[t[0]||(t[0]=e("section",{class:"features"},[e("div",{class:"features-box"},[e("h1",null,"éªŒè¯ç ç®¡ç†"),e("p",null,"æ­¤åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...")])],-1)),m(_)])])}const Yu=P(Wu,[["render",Zu],["__scopeId","data-v-784cc151"]]),Qu={name:"ServerManagement",components:{Header:A,Admin_Sidebar:z,Footer:x},methods:{checkTokenValidity(){const o=j(),t=localStorage.getItem("AdminToken");W(o,t,!0)}},mounted(){this.checkTokenValidity()}},Ju={class:"Admin_ServerManagement"},Xu={class:"main-content"};function e1(o,t,s,i,n,l){const v=k("Header"),c=k("Admin_Sidebar"),_=k("Footer");return r(),d("div",Ju,[m(v),m(c),e("main",Xu,[t[0]||(t[0]=e("section",{class:"features"},[e("div",{class:"features-box"},[e("h1",null,"æœåŠ¡å™¨ç®¡ç†"),e("p",null,"æ­¤åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...")])],-1)),m(_)])])}const t1=P(Qu,[["render",e1],["__scopeId","data-v-74052e23"]]),s1=[{path:"/",name:"LandingPage",component:Is},{path:"/user-dashboard",name:"UserDashboard",component:po},{path:"/user-check-in",name:"UserCheckIn",component:Ao},{path:"/real-name-auth",name:"RealNameAuth",component:Vo},{path:"/tunnel-list",name:"TunnelList",component:hn},{path:"/add-tunnel",name:"AddTunnel",component:Bn},{path:"/tunnel-config",name:"TunnelConfig",component:Yn},{path:"/frp-downloads",name:"FRPDownloads",component:fi},{path:"/user-tutorials",name:"UserTutorials",component:Ri},{path:"/login",name:"Login",component:ji},{path:"/register",name:"Register",component:Qi},{path:"/reset-password",name:"ResetPassword",component:ol},{path:"/payment",name:"Payment",component:Ml},{path:"/dashboard",name:"Dashboard",component:Nl},{path:"/user-management",name:"UserManagement",component:pr},{path:"/email-management",name:"EmailManagement",component:id},{path:"/admin-login",name:"Admin_Login",component:bu},{path:"/log-management",name:"LogManagement",component:hc},{path:"/statistics",name:"Statistics",component:yu},{path:"/tunnel-management",name:"TunnelManagement",component:Cu},{path:"/auth-management",name:"AuthManagement",component:Lu},{path:"/announcement-management",name:"AnnouncementManagement",component:Mu},{path:"/answer-management",name:"AnswerManagement",component:Nu},{path:"/question-management",name:"QuestionManagement",component:ju},{path:"/email-code-management",name:"EmailCodeManagement",component:Yu},{path:"/server-management",name:"ServerManagement",component:t1}],G=Ke({history:Ge("/"),routes:s1}),se=Ce($t),o1=Ze();se.use(o1);se.use(G);se.use(Ye);dt(se);se.mount("#app");se.component("SvgIcon",Ue);se.directive("activity-track",ft);G.afterEach((o,t)=>{(localStorage.getItem("Token")||localStorage.getItem("AdminToken"))&&o.name!=="Login"&&o.name!=="Register"&&o.name!=="Admin_Login"?de.start():de.stop()});const n1=localStorage.getItem("Token")||localStorage.getItem("AdminToken"),he=G.currentRoute.value;n1&&he.name!=="Login"&&he.name!=="Register"&&he.name!=="Admin_Login"&&de.start();window.addEventListener("DOMContentLoaded",()=>{const s=()=>{const i=document.documentElement,n=i.clientWidth/1920;i.style.fontSize=14*n+"px"};s(),window.addEventListener("resize",s)});
